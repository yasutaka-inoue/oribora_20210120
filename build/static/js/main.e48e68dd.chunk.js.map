{"version":3,"sources":["common/ScrollToTop.js","firebase.js","common/Title.js","img/noimage.jpg","volunteer/detail/Map.js","common/ModalItem.js","volunteer/detail/Rikkouho.js","volunteer/detail/RikkouhoCansel.js","volunteer/detail/Touchaku.js","volunteer/detail/Kanryou.js","volunteer/detail/DetailItem.js","volunteer/detail/Detail.js","guest/request/GuestRequest.js","guest/mylist/RequestItem.js","guest/mylist/AcceptedReq.js","guest/mylist/WaitingReq.js","guest/mylist/FinishedReq.js","guest/mylist/MylistTab.js","guest/mylist/GuestMylist.js","chat/ChatList.js","chat/ForumList.js","chat/ChatTab.js","chat/ChatTop.js","guest/notice/GuestNoticeItem.js","guest/notice/GuestNotice.js","guest/profile/ProfileItem.js","guest/profile/GuestProfile.js","guest/nav/ChatBudge.js","guest/nav/NoticeBudge.js","guest/nav/GuestNav.js","volunteer/detail/GuestInfoItem.js","volunteer/detail/GuestInfo.js","chat/ForumItem.js","chat/ChatItem.js","TitleOffline.js","App.js","Register.js","Userflg.js","volunteer/request/RequestItem.js","volunteer/request/RealtimeRequest.js","volunteer/request/RecentRequest.js","volunteer/request/AllRequest.js","volunteer/request/WantedRequest.js","volunteer/request/Coverimage.js","img/realtime.jpg","img/pretime.jpg","volunteer/request/RequestTab.js","volunteer/request/Request.js","volunteer/mylist/AcceptedVol.js","volunteer/mylist/WaitingVol.js","volunteer/mylist/FinishedVol.js","volunteer/mylist/MylistTab.js","volunteer/mylist/Mylist.js","volunteer/notice/NoticeItem.js","volunteer/notice/Notice.js","volunteer/profile/ProfileItem.js","volunteer/profile/ReviewItem.js","volunteer/profile/Review.js","volunteer/profile/Profile.js","volunteer/nav/ChatBudge.js","volunteer/nav/NoticeBudge.js","volunteer/nav/Nav.js","guest/detail/Done.js","guest/detail/GuestDetailItem.js","guest/detail/GuestDetail.js","guest/detail/VolunteerInfoItem.js","guest/detail/VolunteerInfo.js","guest/detail/SelectItem.js","guest/detail/VolunteerSelect.js","common/Router.js","index.js"],"names":["ScrollToTop","prevProps","this","props","location","pathname","window","scrollTo","children","Component","withRouter","db","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","auth","storage","useStyles","makeStyles","theme","title","bottom","top","boxShadow","root","flexGrow","text","Title","history","classes","useEffect","unSub","onAuthStateChanged","user","push","className","AppBar","position","color","Toolbar","Typography","variant","IconButton","edge","onClick","a","signOut","alert","message","map","maxWidth","height","backgroundColor","marginBottom","marginTop","Map","departure_lat","departure_lon","destination_lat","destination_lon","paper","palette","background","shadows","padding","spacing","textAlign","close","right","ModalItem","buttonText","onSubmit","handleClose","Button","size","modal","display","alignItems","justifyContent","button","margin","Rikkouho","id","guest_id","myId","mynickname","rikkouho_id","mypic","useState","open","setOpen","rikkouho","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","collection","doc","update","add","escort_id","user_id","icon","notice","already_read","created_at","FieldValue","serverTimestamp","RikkouhoCansel","index","indexOf","splice","Touchaku","disabled","status_2","Kanryou","box","pointerEvents","image","width","img","objectFit","guestList","guestInfo","paddingLeft","guest","paddingTop","paddingBottom","button2","marginLeft","picture","nickname","volunteer_id","es_date","start_time","departure","destination","number","lan_1","lan_2","lan_3","status","emergency","includes","now","Date","year","getFullYear","m","getMonth","slice","d","getDate","judge","nowDate2","esDate","replace","console","log","canselJudge","volunteerCheck","src","alt","Img","state","guestId","escortId","Detail","request","setRequest","firebaseData","onSnapshot","snapshot","data","guest_pic","guest_nickname","area","input","minWidth","select","labelarea","lineHeight","GuestRequest","esdate","setEsdate","date","setDate","newDate","setNewDate","time","setTime","setDisabled","setNumber","language1","setLanguage1","language2","setLanguage2","language3","setLanguage3","setDeparture","setDestination","setUser","where","docs","nowDate","e","preventDefault","FormControl","component","RadioGroup","aria-label","name","value","onChange","target","FormControlLabel","control","Radio","label","TextField","type","newstr","required","InputLabelProps","shrink","inputProps","step","InputLabel","Select","labelId","displayEmpty","MenuItem","set","item","large","avatar","paddingRight","list","flexDirection","list2","Paper","ListItem","ListItemAvatar","Avatar","ListItemText","primary","secondary","align","length","AcceptedReq","volunteer_nickname","volunteer_pic","orderBy","requestItem","end_time","WaitingReq","FinishedReq","TabPanel","other","role","hidden","a11yProps","tab","MylistTab","useTheme","setValue","Tabs","event","newValue","indicatorColor","textColor","Tab","axis","direction","onChangeIndex","dir","Box","p","GuestMylist","ChatList","List","ForumList","ChatTab","ChatTop","green","blue","red","yellow","black","toDate","toLocaleString","Divider","GuestNotice","setNotice","revise","backgroundImage","backgroundSize","cursor","verticalAlign","inputFile","imgIcon","left","reviewarea","account","description","ProfileItem","updated_at","newpicture","setNewpicture","newnickname","setNewnickname","newaccount","setNewaccount","newdescription","setNewdescription","S","fileName","Array","from","crypto","getRandomValues","Uint32Array","n","join","ref","put","on","TaskEvent","STATE_CHANGED","err","child","getDownloadURL","then","url","files","reader","FileReader","onload","document","getElementById","setAttribute","result","readAsDataURL","multiline","rows","GuestProfile","user_flg","profile","setProfile","ChatBudge","Badge","invisible","NoticeBudge","appBar","fontSize","GuestNav","GuestInfoItem","href","GuestInfo","accout","ForumItem","ChatItem","TitleOffline","link","textDecoration","email","setEmail","password","setPassword","signInWithEmailAndPassword","lastname","setLastname","firstname","setFirstname","userflg","setUserflg","setNickname","String","createUserWithEmailAndPassword","register","first_name","last_name","Userflg","RealtimeRequest","limit","RecentRequest","AllRequest","WantedRequest","maxHeight","subtitle","Coverimage","RequestTab","src1","src2","Request","AcceptedVol","WaitingVol","FinishedVol","Mylist","Notice","line","borderBottom","ReviewItem","evaluate","comment","Review","setEvaluate","Profile","Nav","Done","setComment","volList","volInfo","vol","margin2","StyledMenu","withStyles","border","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","main","common","white","anchorEl","setAnchorEl","handleClick","currentTarget","gotoForum","endIcon","keepMounted","Boolean","volunteerId","GuestDetail","VolunteerInfoItem","VolunteerInfo","flex","marginRight","volpic","lenghth","goBack","VolunteerSelect","Router","exact","path","App","Register","createMuiTheme","light","dark","contrastText","ReactDOM","render","ThemeProvider"],"mappings":"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","file":"static/js/main.e48e68dd.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\n\r\nclass ScrollToTop extends Component {\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.location.pathname !== prevProps.location.pathname) {\r\n      window.scrollTo(0, 0);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","import firebase from \"firebase/app\";\nimport \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\n\n// .envに書いたファイルを参照している\nconst firebaseApp = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const db = firebaseApp.firestore();\nexport const auth = firebase.auth();\nexport const storage = firebase.storage();","import React,{useEffect} from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { AppBar, IconButton, Toolbar } from '@material-ui/core';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport { auth } from \"../firebase\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        bottom: 'auto',\r\n        top: 0,\r\n        boxShadow: \"none\",\r\n      },\r\n      root: {\r\n        flexGrow: 1,\r\n      },\r\n      text:{\r\n        flexGrow: 1,\r\n      },\r\n  }));\r\n\r\nconst Title = ({title, history}) => {\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        // onAuthStateChanged→何らかのユーザー認証変化があったら実行される\r\n        // その際に[user]内に格納される＝空だったら何も起こらない→つまりログインされていない状態\r\n        const unSub = auth.onAuthStateChanged((user) => {\r\n          // !user = falseとなる、つまりユーザーがログインしていない状態の時はログインページに飛ばす\r\n          !user && history.push(\"/\");\r\n        });\r\n        return () => unSub();\r\n      });    \r\n\r\n    return (\r\n        <>\r\n        <div className={classes.root}>\r\n        <AppBar position=\"fixed\" color=\"primary\" className={classes.title}>\r\n        <Toolbar>\r\n            <Typography variant=\"h6\" className={classes.text}>\r\n                 {title}\r\n            </Typography>\r\n            <IconButton color=\"inherit\" edge=\"end\" \r\n                onClick={async () => {\r\n                    try {\r\n                    await auth.signOut();\r\n                    history.push(\"/\");\r\n                    } catch (error) {\r\n                    alert(error.message);\r\n                    }\r\n                }}>\r\n            <ExitToAppIcon />\r\n            </IconButton>\r\n        </Toolbar>\r\n        </AppBar>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Title\r\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAAAAADRE4smAAAKl0lEQVR4AezSgQAAAAACoP0pRxnkYii9hgACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIIAACIAACIAACIAACIAACIAAY+8uEB6F1SgMz/73dIJTpAot1kK+nVwZ9/mlkEDOs4W+SKxs3DgyAPfo4XYu0jj0FQAoP4zT4nwbNANwwL3KQ4XfUmFe3RnAho11EeAfgqIeGcAW6WuGF8qumgFsTFt6eAWvbBnAhtxivFp8YwDboOsIbxLVmgGsXx3izcKaAaxcH+Nd4p4BrNhUKryTKicGsFa1hyfwagawSlOGJ8knBrA+fYinCXsGsDYXhSdSFwawKjrHk+WaAazHlODpkokBrMUjwgyiBwNYh3uAWQR3BrAGvY+Z+D0DsN/dx2z8OwOw3SPAjIIHA7DbFGFW8cQAbKZTzCzVDMBiOWaXMwB7VVhAxQBsNSgsQA0MwE46xCLCiQFYKcdCcgZgoysWc2UA9pkCLCaYGIB1DljQgQHYPwJwaiTAABIsKmUAdrliYVcGYJUYC4sYgE0aLO7GACySYHExA7BHCwNaBmCNFAYkDMAWA4zoGYAlDjDiwADsoAMYEWgGYIUWhjQMwAoFDCkYgA0mD4Z4EwOwwA3GNAzAAgcYc2AAFohgTMwAzBthjhoZgHE3GHRjAMbtYdCeARgXw6CYARjnwSCPAZg2wqiJARjWwqiWARhWwaiKARh2gFEHBmBYBqMyBmDYDkbtGIBhMYyKGYBhEYyKGIBhAYwKGIBhHozyGYBhMIwBGKZglGIAhvl8BPAl0KCQARgWuz0MZAAJjEoYgGEpjEoZgGE5jMoZgGFHGHVkAIbVMKpmAIb1MKpjAIZNMIabQjkV6AsDcHoiIGEAbg8DDm4HwIMBDQNw+i1QTQzAvNTtiWAGcIIxJwZggc7taSAGoD0Y4msGYIM9B4FuB9DDkJ4B2CFyezsYAzjDiDMDsMRDwQD1YAC2yN3eDcYABhgwMACn/yZiJwzA6ZFgxwBsknIdyO0AWrdvAAxACg4B3A5g9LAgb2QATk8HXsQ2DEBHWEykGYB9OoWFqE4YgIWOPBHqdgA6xSJSzQDsNPpYgD8KA7BUozA71QgDsNbJ7RcABiCF218MZwB6h1llmgHYbUowo0QLA7DcGGE20SQMwHqP2QqIHsIAHH4KpJMwgFXQmdPvfwxAdIGnK7UwgPU4KTyVOokwgDVpfTyR3wkDWJlxh6dJR2EAq6NPyuXbPwMQ6WM8QdwLA1gpXfl4J78SYQDrNRZ4l3IUBrBuXYY3yzoRBrB6Q67wBiofRBjAJtwLhVdSxV2EAWzGWMV4haQaRRjAtgynEC8Snu4iwgA2aLjsPPyVt7sMIsIANkv35zxW+A0V5+deiwgD2Dz9aC/7ItvFURBE8S4r9pf2ocUYBkAMgBgAMQBiAMQAiAEQAyAGQAyAGAAxAGIAxACIARADIAZADIAYADEAYgDEAIgBEAMgBkAMgBgAMQBiAMQAiAEQAyAGQAyAGAAxAGIAxAD0+BiGvu+69n+6ru+H4TFqBrBh+tE31elQZEkUePgDL4iSrDicqqZ/aAawCfreXMos9hVeSflxVl6au2YAKzV29TGLFN5JRdmx7kYGsCK6uxSxj6fy4+LSaQZgOz3UZawwExWX9aAZgKUet2OqMDuVHm8PBmCZsS4CLCgo6pEBWEK3xxgGxIeWARg3XDIPxnjZZWAAxuimDGFcWDaaASxPd6UPS/hlpxnAovp9AKsE+54BLKU/hLBQeOwZwPzGUwRrRaeRAcyqzWG5vGMAc5mqCCsQVRMDmMFw8LAS3n5gAM+lbylWJb1pBvA0uo6wOlGtGcBT6DrEKoVPSIAB6GuI1QqvmgG8i75GWLXoPQkwgGuE1YuuDOCNuhibkHQM4A3GUmEjVDkygFfSlY8N8SvNAF6jS7AIPgc+8O5v23OAAVx9bJJ/ZQAvoAtsVqEZwL/0ITYs7BnAX+mTwqapk2YAf/ZIsHnpgwH8yc2DA/wbA/i9AxxxYAC/oXM4I9cM4GdjAockIwP40T2EU8I7A/he58MxfscAvrkqOEddGcAXNZxUM4BPbgpOUg0D+L9WwVGqZQAivQdneR0DGHw4zB9cD+AewGnBw+0AphCOCyenA8jgvMzlAE4gnN0NoFMgqM7VAKYABCCcHA2gBH1UuhlAi8+odTEAHeIzirSDAVzwFV3cC2D08BX5o3MBHEDfOboWwOSBvuNpxwI4g35wdisAHYB+EGinAmjxE2qcCiDHTyh3KYBJ4SekJocCaPALahwKYI9f0N6hAGL8gmJ3AtAKvyClnQlgwG/Q4EwAV/wGXZ0J4IzfoLMzARzwG3R0JoA9foP2zgRwhNN4B5hC/IJC7UwA0iuQHedDPvBMmCWO4lIAOgb9INZOBSB3D/QdbxC3ApAK9J1KXAtAdviKduJeAKOPz8gfHQxAGgX6SDXiYgByBn10FjcDkAwEIBNXA9ARCNHkagCcDfg/7y7uBiA3BnATlwPgyvBR3A5A7+C0nXY5AC4LxZp/Fz+GcFY4CgOQweMSoIsB8JMRXicM4KNGcQXAuQD42bBaXA6AewRP4nIAPCtyEAbwgwN/f3cC4KTwURjALw78/d0OQI78/d0OQE58/3c7ADny+nc7ADnx+nc7AKkVNk1dhQH8Vethw7xWGMA/DAE2KxiEAfzTGGOj4lEYwAtMO2zSbhIG8CK6xAaVWhjAS134aUC3A5AuwKYEvTgcAF8EdqMwgFfSR2zGUQsDeL3Gwyb4jbwFA5BHjA2IH8IA3kjvsXp7LQzg7doAqxa0Iu4GwEmhUgsDeK/Gx0oFjbwfA5AxxyrlkzCA57j6WB3/Js/CAGQqsTLlJAzgmfoEK5L0IgzgySofK+FV8nwMQKa9wgqo/SQMYB5DCuulgwgDmM01hNXCq8yJAYiuLU4grLUwgNlVAawUVLIEBiD64sM6/kULA1iKPluWgH/WIgxgQVMVwhphNYkwgKU1KayQNmICAxAZSgXDVDmIMABjxlMAg4LzKMIAzLplCkao7CbmMQCRsUqwuKQaRRiALe6nEAsKT3cRYQBW6Uofi/DLTkQYgIX6Y4KZJcdeRBiAtcY6U5iJyupRRBiA5XSzjxWeTMX7RosIA1iHqT2mHp7ES4/tJGvCAP5PD1UR4p3Couq1rBED+GjqqsMuwBsEu0PVTWIcA3iCqa8PWRwovIAK4uxQ95MYxgBmMA5Nfd7nuzSJwsD3PgahPD8IoyTd5ftz3QyjGMIADNDTpMVdDOC/7dKBDAAAAMAgf+t7fMUQAgiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiwJwACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAACIAABGdwJVTp3O1sAAAAASUVORK5CYII=\"","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    map: {\r\n        maxWidth: 500,\r\n        height:200,\r\n        backgroundColor: \"gray\",\r\n        color:\"white\",\r\n        marginBottom: 20,\r\n        marginTop: 10,\r\n      },\r\n  }));\r\nconst Map = ({departure_lat, departure_lon, destination_lat, destination_lon}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n            <div className={classes.map}>\r\n            ここにmapが入る予定\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Map","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button } from '@material-ui/core';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    //   border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n      textAlign: \"center\",\r\n      position: \"relative\",\r\n    },\r\n    close:{\r\n      color: \"gray\",\r\n      position: \"absolute\",\r\n      top: 10,\r\n      right: 10,\r\n    }\r\n  }));\r\n\r\nconst ModalItem = ({title, text, buttonText, onSubmit, handleClose}) => {\r\n    const classes = useStyles();\r\n    return (\r\n          <div className={classes.paper}>\r\n            <h3 >{title}</h3>\r\n            <p >{text}</p>\r\n            <Button variant=\"contained\" color=\"primary\" size=\"large\" onClick={onSubmit}>\r\n                {buttonText}\r\n            </Button>\r\n            <HighlightOffIcon variant=\"outlined\" size=\"large\" onClick={handleClose} className={classes.close}/>\r\n          </div>\r\n    )\r\n}\r\n \r\nexport default ModalItem\r\n","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, Modal, Typography } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n          display: \"block\",\r\n          margin: \"0 auto\",\r\n          marginBottom: 30,\r\n      }\r\n  }));\r\n\r\nconst Rikkouho = ({id, guest_id, myId, mynickname, mypic, rikkouho_id}) => {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n\r\n      let rikkouho =\"\";\r\n      if(!rikkouho_id){\r\n          rikkouho = [];\r\n      }if(rikkouho_id){\r\n          rikkouho =rikkouho_id;\r\n      };  \r\n\r\n    // 登録処理\r\n    const onSubmit = () => {\r\n        // ここに書く\r\n        // (1)escortsのrikkouho_idの中の配列に（myid）を追加して更新\r\n        rikkouho.push(myId);\r\n        db.collection(\"escorts\").doc(id).update({\r\n            rikkouho_id: rikkouho,\r\n          });\r\n        \r\n        // (2)guestのお知らせに「nicknameさんがボランティアに立候補しました」と追加される。\r\n        db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: guest_id,\r\n            icon: 0,\r\n            notice:`${mynickname}さんがボランティアに立候補しました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={handleOpen} className={classes.button}>\r\n                ボランティアに立候補する\r\n            </Button>\r\n            <Typography variant=\"caption\" display=\"block\">\r\n                ※ボランティアに立候補しましょう。ゲストさんに選ばれると正式にボランティアを引き受けることになります。\r\n            </Typography>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"ボランティア立候補\"\r\n                    text=\"このボランティアに立候補しますか？\"\r\n                    buttonText=\"立候補する\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Rikkouho\r\n","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, Modal, Typography } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n        display: \"block\",\r\n        margin: \"0 auto\",\r\n        marginBottom: 30,\r\n    }\r\n  }));\r\n\r\nconst RikkouhoCansel = ({id, guest_id, myId, mynickname, rikkouho_id, mypic}) => {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    // キャンセル処理\r\n    const onSubmit = () => {\r\n        // ここに書く\r\n        // (1)escortsのrikkouho_idの中の配列から（myid）を削除して更新\r\n        var index = rikkouho_id.indexOf(myId);\r\n        rikkouho_id.splice(index, 1)\r\n        db.collection(\"escorts\").doc(id).update({\r\n          rikkouho_id: rikkouho_id,\r\n        });\r\n        // (2)guestのお知らせに「nicknameさんが立候補をキャンセルしました」と追加される。\r\n        db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: guest_id,\r\n            icon: 1,\r\n            notice:`${mynickname}さんが立候補をキャンセルしました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        setOpen(false);\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={handleOpen} className={classes.button}>\r\n                立候補をキャンセルする\r\n            </Button>\r\n            <Typography variant=\"caption\" display=\"block\">\r\n                ※ゲストさんのボランティア選択を待ちましょう。結果は「お知らせ」に通知が来ます。\r\n            </Typography>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"立候補キャンセル\"\r\n                    text=\"このボランティアへの立候補をキャンセルしますか？\"\r\n                    buttonText=\"キャンセルする\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default RikkouhoCansel","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, Modal, Typography } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n        display: \"block\",\r\n        margin: \"0 auto\",\r\n        marginBottom: 10,\r\n    }\r\n  }));\r\n\r\nconst Touchaku = ({id, guest_id, myId, mynickname, mypic, disabled}) => {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    \r\n    // 登録処理\r\n    const onSubmit = () => {\r\n        // (1)escortsのstatus_2を\"到着\"に更新\r\n        db.collection(\"escorts\").doc(id).update({\r\n          status_2: \"到着\",\r\n        });\r\n\r\n        // (2)guestのお知らせに「nicknameさんが出発地点に到着しました」と追加される。\r\n        db.collection(\"notices\").add({\r\n          escort_id: id,\r\n          user_id: guest_id,\r\n          icon: 2,\r\n          notice:`${mynickname}さんが出発地点に到着しました。`,\r\n          already_read: 0,\r\n          created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={handleOpen} disabled={disabled} className={classes.button}>\r\n                出発地点への到着を報告する\r\n            </Button>\r\n            <Typography variant=\"caption\" display=\"block\">\r\n                ※実施日に出発地点に到着したら、ゲストさんに報告しましょう。（実施日前は到着報告できません。）\r\n            </Typography>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"到着報告\"\r\n                    text=\"出発地点への到着をゲストに報告しますか？\"\r\n                    buttonText=\"報告する\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Touchaku","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, Modal, Typography } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n        display: \"block\",\r\n        margin: \"0 auto\",\r\n        marginBottom: 30,\r\n    }\r\n  }));\r\n\r\nconst Kanryou = ({id, guest_id, myId, mynickname, mypic}) => {\r\n    const classes = useStyles();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    \r\n    // 登録処理\r\n    const onSubmit = () => {\r\n        // ここに書く\r\n        // (1)escortsのstatus_2を\"完了報告\"に更新\r\n        db.collection(\"escorts\").doc(id).update({\r\n          status_2: \"完了報告\",\r\n        });\r\n        // (2)guestのお知らせに「nicknameさんがボランティアを完了しました」と追加される。\r\n        db.collection(\"notices\").add({\r\n          escort_id: id,\r\n          user_id: guest_id,\r\n          icon: 3,\r\n          notice:`${mynickname}さんがボランティアを完了しました。`,\r\n          already_read: 0,\r\n          created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" onClick={handleOpen} className={classes.button}>\r\n                ボランティアの完了を報告する\r\n            </Button>\r\n            <Typography variant=\"caption\" display=\"block\">\r\n                ※ボランティアが終わったら、完了報告しましょう。ゲストさんが完了確認をすると「お知らせ」に通知が来て、ボランティアは完了となります。\r\n            </Typography>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"完了報告\"\r\n                    text=\"このボランティアの完了をゲストに報告しますか？\"\r\n                    buttonText=\"報告する\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n                    \r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Kanryou\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button } from '@material-ui/core';\r\nimport Map from \"./Map\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Rikkouho from \"./Rikkouho\";\r\nimport RikkouhoCansel from \"./RikkouhoCansel\";\r\nimport Touchaku from \"./Touchaku\";\r\nimport Kanryou from \"./Kanryou\";\r\n\r\n// detailで取得したデータを表示させるコンポーネント\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    button:{\r\n        boxShadow: \"none\",\r\n        pointerEvents: \"none\",\r\n        position: \"absolute\",\r\n        top: 0,\r\n        right: 5,\r\n    },\r\n    image: {\r\n        width: \"6rem\",\r\n        height: \"6rem\",\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    guestList:{\r\n        display: \"flex\",\r\n    },\r\n    guestInfo:{\r\n        paddingLeft: \"10px\",\r\n    },\r\n    guest:{\r\n        paddingTop: 10,\r\n        paddingBottom: 10,\r\n    },\r\n    button2:{\r\n        marginLeft: 10,\r\n    },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n  }));\r\n\r\nconst DetailItem = ({\r\n    id, picture, nickname, guest_id, volunteer_id, rikkouho_id, es_date, start_time,\r\n    departure, departure_lat, departure_lon, destination, destination_lat, destination_lon,               \r\n    number, lan_1, lan_2, lan_3, status, status_2, emergency, history, myId, mynickname, mypic}) => {\r\n\r\n    const classes = useStyles();\r\n    \r\n    //ゲスト紹介ページへ遷移\r\n    const gotoGuest=()=>{\r\n        history.push({\r\n            // detailに遷移。idを渡す。\r\n            pathname: '/volunteer/guestprofile',\r\n            state: { guestId: guest_id,\r\n                     escortId: id,\r\n                     myId: myId,\r\n                     mynickname: mynickname,\r\n                     mypic: mypic, }\r\n        });\r\n    }\r\n\r\n    // 掲示板へ遷移\r\n    const gotoForum=()=>{\r\n        history.push({\r\n            //forumに遷移。値を渡す。\r\n            pathname: '/forum',\r\n            state: {escortId: id,\r\n                    myId: myId,\r\n                    mynickname: mynickname,\r\n                    mypic: mypic,\r\n                    }\r\n        })\r\n    }\r\n\r\n    //チャットへ遷移\r\n    const gotoChat=()=>{\r\n        history.push({\r\n            //forumに遷移。値を渡す。\r\n            pathname: '/chat',\r\n            state: {escortId: id,\r\n                    myId: myId,\r\n                    mynickname: mynickname,\r\n                    mypic: mypic,\r\n                    }\r\n        })\r\n    }\r\n    \r\n    // rikkouho_idの中身を取得\r\n    let rikkouho =\"\";\r\n    if (rikkouho_id) {\r\n        rikkouho = rikkouho_id.includes(myId);\r\n    }if(!rikkouho_id){\r\n        rikkouho = false;\r\n    };\r\n\r\n// 現在日付\r\nlet now = new Date();            //日付取得準備（必須）！！\r\nlet year = now.getFullYear();    //年\r\nlet m = (\"0\"+(now.getMonth() + 1)).slice(-2);    //月（2桁表示）\r\nlet d =  (\"0\"+now.getDate()).slice(-2);  //日（2桁表示）\r\nlet nowDate = year + \"/\" + m + \"/\" + d;  \r\nlet judge =\"\";\r\n\r\nlet nowDate2 = year + m + d;   \r\n// es_dateをnewDate2と比較できる形に変換\r\nlet esDate=\"\";\r\nif(es_date){\r\nesDate = es_date.replace(\"/\", \"\");\r\nesDate = esDate.replace(\"/\", \"\");\r\n}\r\n\r\nconsole.log(esDate);\r\nconsole.log(nowDate2);\r\n// 実施日より前のみdisabled（忘れてる場合もあるので）\r\nif (esDate > nowDate2) {\r\n    // 実施日前\r\n    judge = true;\r\n}if (esDate <= nowDate2) {\r\n    // 実施日・実施日後\r\n    judge = false;\r\n}\r\n\r\n// nowDateがesDate2より大きい（現在日がエスコート予定日より大きい＝過ぎた）=trueの場合はキャンセルアラートを出す\r\nconst canselJudge = nowDate2>esDate;\r\n\r\n// volunteer_idの中身がmyIdと一致するかを確認。一致しない(false)場合はボタンやチャットは表示されないようにする\r\n    let volunteerCheck = null;\r\n    if (volunteer_id === myId) {\r\n        volunteerCheck = true;\r\n   }if(volunteer_id !== myId){\r\n        volunteerCheck = false;\r\n  };\r\n    return (\r\n        <div key={id}>\r\n        <div className={classes.margin}></div>\r\n\r\n        { status_2!== \"キャンセル\" && status_2 !== \"完了報告\" && status_2 !== \"完了\" && canselJudge===true && volunteerCheck===true &&\r\n        <Typography variant=\"caption\" display=\"block\" color=\"primary\">\r\n        ※実施日を過ぎたリクエストです。実施済みのリクエストの場合は、到着報告・完了報告をしてください。実施していない場合は、ゲストさんのキャンセルをお待ちください。）\r\n        </Typography>\r\n        }\r\n        { status_2!== \"キャンセル\" && canselJudge===true && volunteerCheck===false &&\r\n        <Typography variant=\"caption\" display=\"block\" color=\"primary\">\r\n        ※実施日を過ぎたリクエストです。ゲストさんのキャンセルをお待ちください。）\r\n        </Typography>\r\n        }\r\n        { volunteerCheck===false && status===\"成立済\" &&\r\n        <Typography variant=\"caption\" display=\"block\" color=\"primary\">\r\n        ※あなた以外のボランティアとマッチングしているリクエストです。\r\n        </Typography>\r\n        }\r\n\r\n        <div className={classes.box}>\r\n            <Typography variant=\"subtitle1\" className={classes.title}>\r\n                {nickname}さんのリクエスト\r\n            </Typography>\r\n            { status===\"募集中\" &&\r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"large\">\r\n                      {status}\r\n                  </Button>\r\n                </>\r\n            }\r\n            { status=== \"成立済\" && status_2!==\"完了\" &&\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"large\">\r\n                    {status}\r\n                </Button>\r\n                </>\r\n            }\r\n            { status_2===\"完了\" &&\r\n              <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"large\" >\r\n                  {status_2}\r\n              </Button>\r\n            }\r\n            { status===\"キャンセル\" &&\r\n              <Button variant=\"outlined\" color=\"inherit\" className={classes.button} size=\"large\" >\r\n                キャンセル\r\n              </Button>\r\n            } \r\n\r\n            <Typography variant=\"subtitle2\" display=\"block\">\r\n            ■日時：{es_date} の {start_time}～\r\n            </Typography>\r\n             \r\n            <Typography variant=\"subtitle2\" display=\"block\">\r\n            ＜コース＞\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■出発地：{departure} \r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■目的地：{destination}\r\n            </Typography>\r\n\r\n            {/* mapコンポーネントを読み込み */}\r\n            <Map\r\n                departure_lat={departure_lat}\r\n                departure_lon={departure_lon}\r\n                destination_lat={destination_lat}\r\n                destination_lon={destination_lon}\r\n            />\r\n            <div className={classes.guest}>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ＜ゲスト情報＞\r\n            </Typography>\r\n            <div className={classes.guestList}>\r\n            <div>\r\n            { picture ? (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={picture} alt={`${nickname}のプロフィール画像`} className={classes.img}/>\r\n                </div>\r\n                </>\r\n                ) : (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={Img} alt=\"画像はありません\" className={classes.img}/>\r\n                </div>\r\n                </>\r\n                )\r\n            }\r\n            </div>\r\n            <div className={classes.guestInfo}>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■ニックネーム：{nickname}\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■言語：{lan_1}{ lan_2 && `、${lan_2}`}{ lan_3 && `、${lan_3}`}\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■人数：{number}人\r\n            </Typography>\r\n            <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={gotoGuest}>\r\n                紹介ページ\r\n            </Button>\r\n            {status === \"募集中\" &&\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={gotoForum} className={classes.button2}>\r\n                掲示板\r\n            </Button>\r\n            }\r\n            {status === \"成立済\" && volunteerCheck===true &&\r\n            <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={gotoChat} className={classes.button2}>\r\n                チャット\r\n            </Button>\r\n            }\r\n            </div>\r\n            </div>\r\n            </div>\r\n\r\n            {/* ボタンと登録等の処理はコンポーネントを分ける */}\r\n            {/* まだ立候補していない時は、立候補できるボタンを表示 */}\r\n            { status === \"募集中\" && rikkouho === false && \r\n            <Rikkouho \r\n                id={id} \r\n                guest_id={guest_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic} \r\n                rikkouho_id={rikkouho_id}\r\n                />\r\n            }\r\n\r\n            {/* 立候補済みの時は、キャンセルボタンに */}\r\n            { status === \"募集中\" && rikkouho === true && \r\n            <RikkouhoCansel \r\n                id={id} \r\n                guest_id={guest_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                rikkouho_id={rikkouho_id} />\r\n            }\r\n\r\n            {/* 到着前の時は、到着報告ボタンに （実施日より前はdisabled）*/}\r\n            { status === \"成立済\" && status_2 === \"待機中\" && judge===false && volunteerCheck===true &&\r\n            <Touchaku \r\n                id={id} \r\n                guest_id={guest_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic} \r\n                />\r\n            }\r\n            {/* 到着前の時は、到着報告ボタンに */}\r\n            { status === \"成立済\" && status_2 === \"待機中\" && judge===true && volunteerCheck===true &&\r\n            <Touchaku \r\n                id={id} \r\n                guest_id={guest_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic} \r\n                disabled=\"true\"\r\n                />\r\n            }\r\n\r\n            {/* 到着後は、完了報告ボタンに */}\r\n            { status === \"成立済\" && status_2 === \"到着\" && volunteerCheck===true &&\r\n            <Kanryou \r\n                id={id} \r\n                guest_id={guest_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic} />\r\n            }\r\n            {/* 到着後は、完了報告ボタンに */}\r\n            { status === \"成立済\" && status_2 === \"完了報告\" && volunteerCheck===true &&\r\n            <Typography variant=\"caption\" display=\"block\">\r\n                ※ゲストさんの完了確認・評価を待っています。\r\n            </Typography>\r\n            }\r\n            {/* 完了済み */}\r\n            { status_2 === \"完了\" &&\r\n            <Typography variant=\"caption\" display=\"block\">\r\n                ※完了済のリクエストです。\r\n            </Typography>\r\n            }\r\n            {/* キャンセル済み */}\r\n            { status === \"キャンセル\" &&\r\n            <Typography variant=\"caption\" display=\"block\" color=\"primary\">\r\n                ※キャンセル済のリクエストです。\r\n            </Typography>\r\n            }                \r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(DetailItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport DetailItem from './DetailItem'\r\nimport { db } from \"../../firebase\";\r\n\r\n// detailのデータを取得するコンポーネント\r\n\r\nconst Detail = (props) => {\r\n    // idを前ページから受け取る。\r\n    const escortId = props.location.state.escortId;\r\n    const myId = props.location.state.myId;\r\n    const mynickname = props.location.state.mynickname;\r\n    const mypic = props.location.state.mypic;\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id: \"\",\r\n        volunteer_id: \"\",\r\n        rikkouho_id: \"\",\r\n        es_date: \"\",\r\n        start_time: \"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        picture: \"\",\r\n        nickname: \"\",\r\n      },\r\n      ]);\r\n\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"escorts\")\r\n          .doc(escortId)\r\n          .onSnapshot((snapshot) =>\r\n              setRequest(\r\n                {\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: snapshot.id,\r\n                  guest_id: snapshot.data().guest_id,\r\n                  volunteer_id: snapshot.data().volunteer_id,\r\n                  rikkouho_id: snapshot.data().rikkouho_id,\r\n                  es_date: snapshot.data().es_date,\r\n                  start_time: snapshot.data().start_time,\r\n                  departure: snapshot.data().departure,\r\n                  destination:snapshot.data().destination,\r\n                  number:snapshot.data().number,\r\n                  lan_1:snapshot.data().lan_1,\r\n                  lan_2:snapshot.data().lan_2,\r\n                  lan_3:snapshot.data().lan_3,\r\n                  status: snapshot.data().status,\r\n                  status_2: snapshot.data().status_2,\r\n                  emergency: snapshot.data().emergency,\r\n                  picture: snapshot.data().guest_pic,\r\n                  nickname: snapshot.data().guest_nickname,\r\n                }\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []); \r\n\r\n    return (\r\n        <>\r\n        <Title title=\"詳細\" history={props.history}/>        \r\n            {/* コンポーネントに各プロパティを渡す */}\r\n            <DetailItem\r\n                key={request.id}\r\n                id={request.id}\r\n                picture={request.picture}\r\n                nickname= {request.nickname}\r\n                rikkouho_id={request.rikkouho_id}\r\n                guest_id={request.guest_id}\r\n                volunteer_id={request.volunteer_id}\r\n                es_date= {request.es_date}\r\n                start_time= {request.start_time}\r\n                departure= {request.departure}\r\n                departure_lat={request.departure_lat}\r\n                departure_lon={request.departure_lon}\r\n                destination={request.destination}\r\n                destination_lat={request.destination_lat}\r\n                destination_lon={request.destination_lon}\r\n                number={request.number}                \r\n                lan_1={request.lan_1}\r\n                lan_2={request.lan_2}\r\n                lan_3={request.lan_3}\r\n                status= {request.status}\r\n                status_2={request.status_2}\r\n                emergency={request.emergency}\r\n                history={props.history}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Detail\r\n","import React , {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Backdrop, Button, Fade, Modal, FormControl, FormControlLabel, InputLabel, MenuItem, Radio, RadioGroup, Select, TextField, Typography } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    area:{\r\n      marginBottom:20,\r\n    },\r\n    input:{\r\n      display: \"block\",\r\n      minWidth: 150,\r\n    },\r\n    select:{\r\n      paddingLeft: 30,\r\n      minWidth: 150,\r\n    },\r\n    labelarea:{\r\n      backgroundColor: \"#f5f5f5\",\r\n      width: \"100%\",\r\n      lineHeight: \"40px\",\r\n  },\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  }));\r\n\r\n\r\nconst GuestRequest = ({myId, mynickname, mypic, history}) => {\r\n    const classes = useStyles();\r\n    // 日時ラジオボタンを監視\r\n    const [esdate, setEsdate] = useState('');\r\n\r\n    // 日セレクトボックスの中身を監視\r\n    const [date, setDate] = useState('');\r\n    // dbに入れるのはnewDateの方。\r\n    const [newDate, setNewDate] = useState('');\r\n\r\n    // 時間セレクトボックスの中身を監視\r\n    const [time, setTime] = useState(''); \r\n\r\n    // 日時指定のdisableを管理\r\n    const [disabled, setDisabled] = useState(false); \r\n\r\n    //人数を管理\r\n    const [number, setNumber] = useState(''); \r\n\r\n    // 言語選択を管理\r\n    const [language1, setLanguage1] = useState('');\r\n    const [language2, setLanguage2] = useState('');\r\n    const [language3, setLanguage3] = useState('');\r\n\r\n    // 出発地点を管理\r\n    const [departure, setDeparture] = useState(''); \r\n\r\n    // 出発地点を管理\r\n    const [destination, setDestination] = useState(''); \r\n\r\n    // modal\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const [user, setUser] = useState([{id: \"\",},]);\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"users\")\r\n          .where(\"user_flg\", \"==\", \"1\")\r\n          .onSnapshot((snapshot) =>\r\n              setUser(\r\n                snapshot.docs.map((doc) => ({\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: doc.id,\r\n                }))\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []);\r\n\r\n// 現在日付\r\nlet now = new Date();            //日付取得準備（必須）！！\r\nlet year = now.getFullYear();    //年\r\nlet m = (\"0\"+(now.getMonth() + 1)).slice(-2);    //月（2桁表示）\r\nlet d =  (\"0\"+now.getDate()).slice(-2);  //日（2桁表示）\r\nlet nowDate = year + \"/\" + m + \"/\" + d;    \r\n\r\n  // 日セレクトの中身を取得\r\n  const handleDateChange=(e)=>{\r\n    // -を/に変える処理を入れる\r\n    var str = e.target.value;\r\n    var newstr = str.replace(/-/g, \"/\");\r\n    setDate(e.target.value);\r\n    setNewDate(newstr);\r\n  };\r\n\r\n  // 日時ラジオボックスの中身を取得\r\n  const handleEsdate = (e) => {\r\n    setEsdate(e.target.value);\r\n    if(e.target.value === \"今すぐ\" )\r\n    {setDisabled(true)};\r\n    if(e.target.value !== \"今すぐ\" )\r\n    {setDisabled(false)};\r\n  };\r\n\r\n  //登録処理\r\n  const handleSubmit=()=>{\r\n    // 送信した内容が届いているか確認\r\n    // console.log(esdate, \"日程\");\r\n    // console.log(newDate, \"日にち\");\r\n    // console.log(time, \"時間\");\r\n    // console.log(number, \"人数\");\r\n    // console.log(language1, \"言語1\");\r\n    // console.log(language2, \"言語2\");\r\n    // console.log(language3, \"言語3\");\r\n    // console.log(departure, \"出発\");\r\n    // console.log(destination, \"目的地\");\r\n    const id =db.collection('escorts').doc().id;\r\n  // dbに入れる処理を書く\r\n  if(esdate===\"今すぐ\"){\r\n    db.collection(\"escorts\").doc(id).set({\r\n      guest_id: myId,\r\n      es_date: nowDate,\r\n      start_time: \"今すぐ\",\r\n      departure: departure,\r\n      destination: destination,\r\n      number: number,\r\n      lan_1: language1,\r\n      lan_2: language2,\r\n      lan_3: language3,\r\n      status: \"募集中\",\r\n      emergency: 1,\r\n      guest_nickname: mynickname,\r\n      guest_pic: mypic,\r\n      created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n    // 全てのvolのnoticesに入れる\r\n      user.map((item) => (\r\n          db.collection(\"notices\").add({\r\n              escort_id: id,\r\n              user_id: item.id,\r\n              icon: 4,\r\n              notice: `${mynickname}さんがリアルタイムリクエストを出しました！`,\r\n              already_read: 0,\r\n              created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n            })\r\n            ));\r\n      }\r\n  if(esdate===\"その他\"){\r\n    db.collection(\"escorts\").doc(id).set({\r\n      guest_id: myId,\r\n      es_date: newDate,\r\n      start_time: time,\r\n      departure: departure,\r\n      destination: destination,\r\n      number: number,\r\n      lan_1: language1,\r\n      lan_2: language2,\r\n      lan_3: language3,\r\n      status: \"募集中\",\r\n      emergency: 0,\r\n      guest_nickname: mynickname,\r\n      guest_pic: mypic,\r\n      created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n    });\r\n  }\r\n  setEsdate(\"\");\r\n  setDate(\"\");\r\n  setNewDate(\"\");\r\n  setTime(\"\");\r\n  setNumber(\"\");\r\n  setDestination(\"\");\r\n  setDeparture(\"\");\r\n  setLanguage1(\"\");\r\n  setLanguage2(\"\");\r\n  setLanguage3(\"\");\r\n  setDisabled(false);\r\n  setOpen(false);\r\n  // 詳細に遷移させる\r\n  history.push({\r\n    // detailに遷移。idを渡す。\r\n    pathname: '/guest/detail',\r\n    state: { escortId: id ,\r\n             myId: myId,\r\n             mynickname: mynickname,\r\n             mypic: mypic}\r\n  });\r\n};\r\n\r\nconst handleClose = () => {\r\n  setOpen(false);\r\n};\r\nconst handleOpen = (e) => {\r\n  // 画面が遷移しないようにpreventDefault\r\n  e.preventDefault();\r\n  setOpen(true);\r\n};\r\n\r\n    return (\r\n        <>\r\n        <Title title=\"リクエスト\" history={history}/>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n        <form onSubmit={handleOpen}>\r\n          <div className={classes.area}>\r\n          <Typography variant=\"subtitle1\" display=\"block\" className={classes.labelarea}>\r\n           日時\r\n          </Typography>\r\n          <FormControl component=\"fieldset\" className={classes.input}>\r\n            <RadioGroup aria-label=\"time\" name=\"time\" value={esdate} onChange={handleEsdate}>\r\n              <FormControlLabel value=\"今すぐ\" control={<Radio color=\"primary\"/>} label=\"今すぐリクエスト\"/>\r\n              <FormControlLabel value=\"その他\" control={<Radio color=\"primary\"/>} label=\"出発日時を指定してリクエスト\" />\r\n            </RadioGroup>\r\n          </FormControl>\r\n          <FormControl component=\"fieldset\" className={classes.select}>\r\n            <TextField \r\n                type=\"date\"\r\n                label=\"日程\"\r\n                value={date}\r\n                onChange={handleDateChange}\r\n                required\r\n                margin=\"normal\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                disabled={disabled}\r\n                />\r\n              <TextField \r\n                type=\"time\"\r\n                label=\"時間\"\r\n                value={time}\r\n                required\r\n                margin=\"normal\"\r\n                onChange={e => setTime(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                inputProps={{\r\n                  step: 300, // 5 min\r\n                }}\r\n                disabled={disabled}\r\n              />\r\n          </FormControl>\r\n          </div>\r\n\r\n          <div className={classes.area}>\r\n          <Typography variant=\"subtitle1\" display=\"block\" className={classes.labelarea}>\r\n            基本情報\r\n          </Typography>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"人数\"\r\n                type=\"number\"\r\n                required\r\n                value={number}\r\n                onChange={e => setNumber(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <InputLabel shrink id=\"language\" required>\r\n                言語1\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"language1\"\r\n                id=\"language1\"\r\n                value={language1}\r\n                onChange={e => setLanguage1(e.target.value)}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">\r\n                  <em>使える言語を選択してください</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"英語\">英語</MenuItem>\r\n                <MenuItem value=\"中国語\">中国語</MenuItem>\r\n                <MenuItem value=\"韓国語\">韓国語</MenuItem>\r\n                <MenuItem value=\"スペイン語\">スペイン語</MenuItem>\r\n                <MenuItem value=\"フランス語\">フランス語</MenuItem>\r\n                <MenuItem value=\"ドイツ語\">ドイツ語</MenuItem>\r\n                <MenuItem value=\"ポルトガル語\">ポルトガル語</MenuItem>\r\n              </Select>\r\n              </FormControl>\r\n              <FormControl component=\"fieldset\" className={classes.input}>\r\n              <InputLabel shrink id=\"language2\">\r\n                言語2\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"language2\"\r\n                id=\"language2\"\r\n                value={language2}\r\n                onChange={e => setLanguage2(e.target.value)}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">\r\n                  <em>使える言語を選択してください</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"英語\">英語</MenuItem>\r\n                <MenuItem value=\"中国語\">中国語</MenuItem>\r\n                <MenuItem value=\"韓国語\">韓国語</MenuItem>\r\n                <MenuItem value=\"スペイン語\">スペイン語</MenuItem>\r\n                <MenuItem value=\"フランス語\">フランス語</MenuItem>\r\n                <MenuItem value=\"ドイツ語\">ドイツ語</MenuItem>\r\n                <MenuItem value=\"ポルトガル語\">ポルトガル語</MenuItem>\r\n              </Select>\r\n              </FormControl>\r\n              <FormControl component=\"fieldset\" className={classes.input}>\r\n              <InputLabel shrink id=\"language3\">\r\n                言語3\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"language3\"\r\n                id=\"language3\"\r\n                value={language3}\r\n                onChange={e => setLanguage3(e.target.value)}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">\r\n                  <em>使える言語を選択してください</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"英語\">英語</MenuItem>\r\n                <MenuItem value=\"中国語\">中国語</MenuItem>\r\n                <MenuItem value=\"韓国語\">韓国語</MenuItem>\r\n                <MenuItem value=\"スペイン語\">スペイン語</MenuItem>\r\n                <MenuItem value=\"フランス語\">フランス語</MenuItem>\r\n                <MenuItem value=\"ドイツ語\">ドイツ語</MenuItem>\r\n                <MenuItem value=\"ポルトガル語\">ポルトガル語</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </div>\r\n\r\n          <div className={classes.area}>\r\n            <Typography variant=\"subtitle1\" display=\"block\" className={classes.labelarea}>\r\n            出発地点\r\n            </Typography>\r\n            <FormControl component=\"fieldset\" >\r\n            <TextField\r\n                label=\"出発地点\"\r\n                value={departure}\r\n                onChange={e => setDeparture(e.target.value)}\r\n                required\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                />\r\n          </FormControl>\r\n          </div>\r\n\r\n          <div className={classes.area}>\r\n            <Typography variant=\"subtitle1\" display=\"block\" className={classes.labelarea}>\r\n            目的地\r\n            </Typography>\r\n            <TextField\r\n                label=\"目的地\"\r\n                value={destination}\r\n                onChange={e => setDestination(e.target.value)}\r\n                required\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                />\r\n          </div>\r\n\r\n              <Button variant=\"contained\" color=\"primary\" className={classes.button} type=\"submit\">リクエスト送信</Button>\r\n              </form>        \r\n        </div>\r\n\r\n        {/* modal */}\r\n        <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n        <Fade in={open}>\r\n        <ModalItem\r\n          title=\"リクエスト確認\"\r\n          text=\"この内容でリクエストしますか？\"\r\n          buttonText=\"リクエストする\"\r\n          handleClose={handleClose}\r\n          onSubmit={handleSubmit}\r\n          />\r\n        </Fade>\r\n        </Modal>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default GuestRequest\r\n","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Avatar, Button, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport { withRouter } from 'react-router-dom';\r\nimport \"../../style.css\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        marginBottom: 8,\r\n      },\r\n      paper: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n      large: {\r\n        width: theme.spacing(8),\r\n        height: theme.spacing(8),\r\n      },\r\n      avatar:{\r\n        paddingRight:\"10px\",\r\n      },\r\n      list:{\r\n        flexDirection: \"column\",\r\n        padding: \"0 0 0 0\",\r\n      },\r\n      list2:{\r\n        padding: \"0 0 0 0\",\r\n        position:\"relative\",\r\n        marginBottom: \"0\",\r\n      },\r\n      button:{\r\n        boxShadow: \"none\",\r\n        position: \"absolute\",\r\n        right: \"0\",\r\n        bottom: \"0\",\r\n        pointerEvents: \"none\",\r\n    },\r\n      image: {\r\n        width: \"5rem\",\r\n        height: \"5rem\",\r\n      },\r\n      img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n      rikkouho: {\r\n        marginBottom:35,\r\n      },\r\n  }));\r\n\r\n  const RequestItem = ({myId, mynickname, mypic, history, id, picture, nickname, es_date, start_time, departure, destination, number, lan_1, lan_2, lan_3, status, status_2, rikkouho_id, emergency}) => {\r\n    const classes = useStyles();\r\n\r\n    // clickイベント\r\n    const handleClick=()=>{\r\n      history.push({\r\n        // detailに遷移。idを渡す。\r\n        pathname: '/guest/detail',\r\n        state: { \r\n          escortId: id,\r\n          myId: myId,\r\n          mynickname: mynickname,\r\n          mypic: mypic,\r\n                }\r\n      });\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div key={id} className={classes.root}>\r\n  \r\n            {/* 外枠 */}\r\n            <Paper className={classes.paper}>\r\n            <ListItem button className={classes.list} onClick={handleClick}>\r\n              {/* 成立済ならボランティアの画像を出す */}\r\n                {status===\"成立済\" &&  \r\n                <ListItem className={classes.list2}>\r\n                    <ListItemAvatar className={classes.avatar}>\r\n                    { picture ? (\r\n                    <>\r\n                        <Avatar variant=\"rounded\" src={picture} alt={`${nickname}のプロフィール画像`}  className={classes.large}/>\r\n                    </>\r\n                    ) : (\r\n                    <>\r\n                        <Avatar variant=\"rounded\" src={Img} alt=\"画像はありません\"  className={classes.large}/>\r\n                    </>\r\n                    )}\r\n                    </ListItemAvatar>\r\n                <ListItemText \r\n                className={classes.text}\r\n                primary={`${nickname}さん`}\r\n                secondary={\r\n                    <>\r\n                    <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                    ■日時：{es_date} の {start_time}～\r\n                    </Typography>\r\n                    </>\r\n                }/>\r\n                 </ListItem>                \r\n                }\r\n              <ListItem  className={classes.list2}>\r\n              <ListItemText\r\n              secondary={\r\n                <>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■日時：{es_date} の {start_time}～\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■出発地：{departure} \r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■目的地：{destination}\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■言語：{lan_1}{ lan_2 && `、${lan_2}`}{ lan_3 && `、${lan_3}`}\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■人数：{number}人\r\n                  </Typography>\r\n                </>\r\n              }/>\r\n              {/* 募集中なら立候補の数を出す */}\r\n              {status===\"募集中\" &&\r\n                <div>\r\n                 <Typography component=\"span\" variant=\"caption\" display=\"block\" align=\"center\">\r\n                  立候補\r\n                  </Typography>\r\n                    <Avatar variant=\"rounded\" className={classes.rikkouho}>\r\n                        {rikkouho_id && rikkouho_id.length}\r\n                        {!rikkouho_id && 0}\r\n                    </Avatar>\r\n                </div>\r\n                }               \r\n              </ListItem>\r\n\r\n                {/* 募集中なら募集中マーク。成立済なら状況に応じたマークに。 */}\r\n              { status===\"募集中\" && \r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"small\">\r\n                      {status}\r\n                  </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"完了\" &&\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"small\">\r\n                {status_2}\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"待機中\" &&\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"small\">\r\n                {status_2}\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"到着\" &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                 進行中\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"完了報告\" &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                 進行中\r\n                </Button>\r\n                </>\r\n              }              \r\n            </ListItem>\r\n            </Paper>\r\n        </div>\r\n        </>\r\n    )\r\n  }\r\n\r\nexport default withRouter(RequestItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// 成立済みで、未実施のものが入る\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n}));\r\n\r\nconst AcceptedReq = ({history, myId, mynickname, mypic}) => {\r\n    const classes = useStyles();\r\n\r\n    // escortsの中で、guest_idにmyIdが入っていて、成立済みのものを日時順に表示\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        volunteer_nickname: \"\",\r\n        volunteer_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n  // 成立済みで完了してないもの（完了しているのは履歴に）\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"guest_id\", \"==\", myId)\r\n        .where(\"status\", \"==\", \"成立済\")\r\n        .where(\"status_2\", \"in\", [\"待機中\", \"到着\", \"完了報告\"])\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                volunteer_nickname: doc.data().volunteer_nickname,\r\n                volunteer_pic: doc.data().volunteer_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request.length !== 0 && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.volunteer_pic}\r\n                    nickname= {requestItem.volunteer_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname}\r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、表示できるリクエストがありません＞\r\n              </Typography>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AcceptedReq\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// 募集中のものが入る\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n}));\r\n\r\nconst WaitingReq = ({history, myId, mynickname, mypic}) => {\r\n    const classes = useStyles();\r\n    // escortsの中で、募集中で、guest_idにmyIdが入っているものを日時順に表示\r\n      // firebaseに作成した項目を受け取るための変数＝useState\r\n      const [request, setRequest] = useState([\r\n          {\r\n            id: \"\",\r\n            guest_id:\"\",\r\n            volunteer_id:\"\",\r\n            rikkouho_id:\"\",\r\n            es_date: \"\",\r\n            start_time:\"\",\r\n            departure: \"\",\r\n            destination:\"\",\r\n            number:\"\",\r\n            lan_1:\"\",\r\n            lan_2:\"\",\r\n            lan_3:\"\",\r\n            status: \"\",\r\n            status_2: \"\",\r\n            emergency: \"\",\r\n          },\r\n          ]);\r\n  \r\n      // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n      useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"escorts\")\r\n            .where(\"guest_id\", \"==\", myId)\r\n            .where(\"status\", \"==\", \"募集中\")\r\n            .orderBy(\"es_date\", \"asc\")\r\n            .onSnapshot((snapshot) =>\r\n                setRequest(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、更新\r\n                    id: doc.id,\r\n                    guest_id: doc.data().guest_id,\r\n                    rikkouho_id: doc.data().rikkouho_id,\r\n                    es_date: doc.data().es_date,\r\n                    start_time: doc.data().start_time,\r\n                    departure: doc.data().departure,\r\n                    destination: doc.data().destination,\r\n                    number: doc.data().number,\r\n                    lan_1: doc.data().lan_1,\r\n                    lan_2: doc.data().lan_2,\r\n                    lan_3: doc.data().lan_3,\r\n                    status: doc.data().status,\r\n                    status_2: doc.data().status_2,\r\n                    emergency: doc.data().emergency,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request.length !== 0 && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    picture={requestItem.picture}\r\n                    nickname= {requestItem.nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname}\r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、表示できるリクエストがありません＞\r\n              </Typography>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WaitingReq\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// escortsの中で、volunteer_idにmyIdが入っていて、さらにstatus_2が\"完了\"になっているもの\r\n\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst FinishedReq = ({history, myId, mynickname, mypic}) => {\r\n    const classes = useStyles();\r\n    \r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        volunteer_nickname: \"\",\r\n        volunteer_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n  // escortsの中で、guest_idにmyIdが入っていて、さらにstatus_2が\"完了\"になっているもの\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"guest_id\", \"==\", myId)\r\n        .where(\"status_2\", \"==\", \"完了\")\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                volunteer_nickname: doc.data().volunteer_nickname,\r\n                volunteer_pic: doc.data().volunteer_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request.length !== 0 && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.volunteer_pic}\r\n                    nickname= {requestItem.volunteer_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname}\r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、表示できるリクエストがありません＞\r\n              </Typography>}               \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FinishedReq\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport AcceptedReq from './AcceptedReq';\r\nimport WaitingReq from './WaitingReq';\r\nimport FinishedReq from './FinishedReq';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// タブ下の画面の表示処理\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n  // valueとindexが一致したときに、中身が表示される仕組み。\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`full-width-tabpanel-${index}`}\r\n        aria-labelledby={`full-width-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          // ここに表示させたいものを書く。childrenにはTabpanelの中身が表示される\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `full-width-tab-${index}`,\r\n      'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    tab: {\r\n      bottom: 'auto',\r\n      top: 55,\r\n    },\r\n    margin:{\r\n        top: 55,\r\n        marginBottom: 120,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n    },\r\n  }));\r\n  \r\nconst MylistTab = ({myId, mynickname, mypic, history}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [value, setValue] = useState(0);\r\n  \r\n    const handleChange = (event, newValue) => {\r\n      setValue(newValue);\r\n    };\r\n  \r\n    const handleChangeIndex = (index) => {\r\n      setValue(index);\r\n    };\r\n    return (\r\n      <>\r\n     <div className={classes.margin}></div>\r\n     <div className={classes.root}>\r\n      <AppBar position=\"fixed\" color=\"default\" className={classes.tab}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label=\"成立済\" {...a11yProps(0)} />\r\n          <Tab label=\"募集中\" {...a11yProps(1)} />\r\n          <Tab label=\"履歴\" {...a11yProps(2)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabPanel value={value} index={0} dir={theme.direction}>\r\n        <Box p={1}>\r\n        <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n            ボランティアさんとマッチング済の、実施予定または進行中のリクエストの一覧です。\r\n        </Typography>\r\n          <AcceptedReq \r\n            myId={myId}\r\n            mynickname={mynickname}\r\n            mypic={mypic}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1} dir={theme.direction}>\r\n        <Box p={1}>\r\n        <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n            ボランティアさんの立候補を待っている状態のリクエストの一覧です。立候補者を確認して、ボランティアをお願いしましょう。\r\n        </Typography>\r\n          <WaitingReq \r\n           myId={myId}\r\n           mynickname={mynickname}\r\n           mypic={mypic}\r\n           history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={2} dir={theme.direction}>\r\n        <Box p={1}>\r\n        <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n        あなたが過去にお願いした完了済のリクエストの一覧です。\r\n        </Typography>\r\n          <FinishedReq \r\n            myId={myId}\r\n            mynickname={mynickname}\r\n            mypic={mypic}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n      </SwipeableViews>\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default MylistTab\r\n","import React from 'react'\r\nimport Title from '../../common/Title'\r\nimport MylistTab from './MylistTab'\r\n\r\nconst GuestMylist = ({myId, mypic, mynickname, history}) => {\r\n    return (\r\n        <>\r\n            <Title title=\"マイリスト\" history={history}/>\r\n            <MylistTab \r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                history={history}/>    \r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestMylist\r\n","import React from 'react'\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// チャットの一覧。\r\n// chatsの中からescorts_idのデータを取得。日付順に並べて、nicknameとcommentと日付、アイコンを一緒に表示させる\r\n\r\n// const chats =[\r\n//     {\r\n//      id: 0,\r\n//      escorts_id: 1,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/21 13:00\",\r\n//      already_read: 1,\r\n//      comment:\"Im so excited to see you, dude!\",\r\n//     },\r\n//     {\r\n//      id: 1,\r\n//      escorts_id: 1,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/21 13:00\",\r\n//      already_read: 0,\r\n//      comment:\"hahaha\",\r\n//     },\r\n//     {\r\n//      id: 2,\r\n//      escorts_id: 3,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/23\",\r\n//      already_read: 0,\r\n//      comment:\"Im so excited to see you, dude!aaaaaaaaaaaaaaaa\",\r\n//     },\r\n//     {\r\n//      id: 3,\r\n//      escorts_id: 4,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/24\",\r\n//      already_read: 0,\r\n//      comment:\"Ok see you later.\",\r\n//     },\r\n//     {\r\n//      id: 4,\r\n//      escorts_id: 5,\r\n//      user_id: \"aaa\",\r\n//      date: \"2021/07/25\",\r\n//      already_read: 0,\r\n//      comment:\"頑張ります！\",\r\n//     },\r\n//     {\r\n//      id: 5,\r\n//      escorts_id: 3,\r\n//      user_id: \"bbb\",\r\n//      date: \"2021/07/25\",\r\n//      already_read: 0,\r\n//      comment:\"Im so excited to see you, dude!\",\r\n//     },\r\n\r\n// ];\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '500px',\r\n        backgroundColor: theme.palette.background.paper,\r\n        margin: \"0 auto\",\r\n      },\r\n  }));\r\n\r\nconst ChatList = ({myId, history}) => {\r\n    const classes = useStyles();\r\n\r\n    // dbの中からuser_idがmyIdに一致するものを取得\r\n    // const filtered = chats.filter((filtereditem) => (filtereditem.user_id === myId));\r\n\r\n    return (\r\n        <div>\r\n        <List className={classes.root}>\r\n            工事中\r\n        {/* requestの中身をrequestItemに入れて表示処理 */}\r\n        {/* {filtered.map((item) => (\r\n            // requestItemコンポーネントに各プロパティを渡す\r\n            <ChatItem\r\n                key={item.id}\r\n                id={item.id}\r\n                escorts_id={item.escorts_id}\r\n                notice={item.notice}\r\n                date={item.date}\r\n                already_read={item.already_read ===0 ? (\"colored\"):(\"\")}\r\n                icon={item.icon}\r\n                history={props.history}\r\n                myId={myId}\r\n            />\r\n            ))} */}\r\n        </List> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatList\r\n","import React from 'react'\r\n\r\nconst ForumList = ({myId, history}) => {\r\n    return (\r\n        <div>\r\n            工事中\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ForumList\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport ChatList from './ChatList';\r\nimport ForumList from './ForumList';\r\n\r\n// ChatTopのTab。\r\n\r\n// タブ下の画面の表示処理\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n  // valueとindexが一致したときに、中身が表示される仕組み。\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`full-width-tabpanel-${index}`}\r\n        aria-labelledby={`full-width-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          // ここに表示させたいものを書く。childrenにはTabpanelの中身が表示される\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `full-width-tab-${index}`,\r\n      'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    tab: {\r\n      bottom: 'auto',\r\n      top: 55,\r\n    },\r\n    margin:{\r\n        top: 55,\r\n        marginBottom: 120,\r\n    }\r\n  }));\r\n\r\nconst ChatTab = ({myId, history}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [value, setValue] = useState(0);\r\n  \r\n    const handleChange = (event, newValue) => {\r\n      setValue(newValue);\r\n    };\r\n  \r\n    const handleChangeIndex = (index) => {\r\n      setValue(index);\r\n    };\r\n    return (\r\n      <>\r\n     <div className={classes.margin}></div>\r\n     <div className={classes.root}>\r\n      <AppBar position=\"fixed\" color=\"default\" className={classes.tab}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label=\"個別チャット\" {...a11yProps(0)} />\r\n          <Tab label=\"掲示板\" {...a11yProps(1)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabPanel value={value} index={0} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <ChatList myId={myId} history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1} dir={theme.direction}>\r\n        <Box p={1}>\r\n          <ForumList myId={myId} history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n      </SwipeableViews>\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default ChatTab\r\n","import React from 'react'\r\nimport Title from '../common/Title'\r\nimport ChatTab from './ChatTab'\r\n\r\nconst ChatTop = ({myId, history}) => {\r\n    return (\r\n        <>\r\n        <Title title=\"チャット\" history={history}/>\r\n        <ChatTab myId={myId} history={history}/>           \r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatTop\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport { green, blue } from '@material-ui/core/colors';\r\nimport \"../../style.css\";\r\nimport { db } from \"../../firebase\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    green: {\r\n        color: '#fff',\r\n        backgroundColor: green[500],\r\n      },\r\n    blue: {\r\n        color: '#fff',\r\n        backgroundColor: blue[500],\r\n      },\r\n    red: {\r\n        color: '#fff',\r\n        backgroundColor: \"#f44336\",\r\n      },\r\n    yellow: {\r\n        color: '#fff',\r\n        backgroundColor: \"#ffc400\",\r\n      },\r\n    black: {\r\n        color: '#fff',\r\n        backgroundColor: \"black\",\r\n      },\r\n  }));\r\n\r\nconst GuestNoticeItem = ({id, escort_id, notice, created_at, already_read, icon, history, myId, mypic, mynickname}) => {\r\n    const classes = useStyles();\r\n\r\n    // clickイベント\r\n    const handleClick=()=>{\r\n        // already_readを1にして、dbを更新する処理を追加する\r\n        db.collection(\"notices\").doc(id).update({\r\n          already_read: 1,\r\n        });\r\n        history.push({\r\n          // detailに遷移。idを渡す。\r\n          pathname: '/guest/detail',\r\n          state: { escortId: escort_id ,\r\n                   myId: myId,\r\n                   mypic: mypic,\r\n                   mynickname: mynickname,\r\n                  }\r\n        });\r\n        \r\n      }\r\n    return (\r\n        <div key={id} className={already_read}>\r\n            {/* already_readが0なら、色変える */}\r\n            <ListItem alignItems=\"center\" button onClick={handleClick}>\r\n                \r\n                    {/* 内容によって、アイコンを変える */}\r\n                    {/* 立候補した時 icon=0 */}\r\n                    {icon===0 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.red}><PersonAddIcon /></Avatar>\r\n                    </ListItemAvatar>}\r\n\r\n                    {/* 立候補キャンセルした時 icon=1 */}       \r\n                    {icon===1 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.black}><PersonAddDisabledIcon/></Avatar>\r\n                    </ListItemAvatar>}\r\n\r\n                    {/* 到着確認の時 icon=2*/} \r\n                    {icon===2 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.green}><RoomIcon /></Avatar>\r\n                    </ListItemAvatar>}       \r\n\r\n                    {/* 完了確認の時 icon=3*/} \r\n                    {icon===3 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.yellow}><AssignmentTurnedInIcon /></Avatar>\r\n                    </ListItemAvatar>}     \r\n                         \r\n                <ListItemText\r\n                primary={notice}\r\n                secondary={new Date(created_at?.toDate()).toLocaleString()}\r\n                />\r\n            </ListItem>\r\n            <Divider component=\"li\" /> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(GuestNoticeItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title';\r\nimport GuestNoticeItem from './GuestNoticeItem';\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// お知らせのトップ。\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '500px',\r\n        backgroundColor: theme.palette.background.paper,\r\n        margin: \"0 auto\",\r\n      },\r\n    margin:{\r\n        marginBottom: 60,\r\n    },\r\n    text:{\r\n        margin: \"0 auto\",\r\n        maxWidth: \"500px\",\r\n        marginBottom: 10,\r\n        textAlign: \"center\",\r\n      },\r\n  }));\r\n\r\nconst GuestNotice = ({myId, mypic, mynickname, history}) => {\r\n    const classes = useStyles();\r\n\r\n       // firebaseに作成した項目を受け取るための変数＝useState\r\n    const [notice, setNotice] = useState([\r\n        {\r\n            id: \"\",\r\n            escort_id: \"\",\r\n            user_id: \"\",\r\n            icon:\"\",\r\n            notice: \"\",\r\n            already_read: \"\",\r\n            created_at: null,\r\n        },\r\n        ]);\r\n    \r\n    // noticesの中からuser_id=myIDのデータを取得。日付順に並べて、テキストと日付、アイコンを一緒に表示させる\r\n    useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"notices\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .orderBy(\"created_at\", \"desc\")\r\n            .onSnapshot((snapshot) =>\r\n                setNotice(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    escort_id: doc.data().escort_id,\r\n                    user_id: doc.data().user_id,\r\n                    icon: doc.data().icon,\r\n                    notice: doc.data().notice,\r\n                    already_read: doc.data().already_read,\r\n                    created_at: doc.data().created_at,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n\r\n    return (\r\n        <>\r\n        <Title title=\"お知らせ\" history={history}/>\r\n        <div className={classes.margin}></div>   \r\n        <List className={classes.root}>\r\n        {/* noticeの中身をitemに入れて表示処理 */}\r\n        {notice.length !== 0 && \r\n        notice.map((item) => (\r\n            // コンポーネントに各プロパティを渡す\r\n            <GuestNoticeItem\r\n                key={item.id}\r\n                id={item.id}\r\n                escort_id={item.escort_id}\r\n                notice={item.notice}\r\n                created_at={item.created_at}\r\n                already_read={item.already_read ===0 ? (\"colored\"):(\"\")}\r\n                icon={item.icon}\r\n                history={history}\r\n                myId={myId}\r\n                mypic={mypic}\r\n                mynickname={mynickname}\r\n            />\r\n            ))}\r\n        </List>      \r\n        {notice.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、お知らせはありません＞\r\n              </Typography>}            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestNotice","import React, {useState, useEffect} from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhoto\";\r\nimport { Button,  FormControl, TextField} from \"@material-ui/core\";\r\nimport { storage, db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    revise:{\r\n        position: \"absolute\",\r\n        top: 7,\r\n        right: 5,\r\n    },\r\n    image: {\r\n        width: \"8rem\",\r\n        height: \"8rem\",\r\n        marginBottom: \"10px\",\r\n        backgroundImage: `url(${Img})`,\r\n        backgroundSize: \"cover\",\r\n        cursor: \"pointer\",\r\n        position: \"relative\",\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"center\",\r\n        display: \"table-cell\",\r\n        '&:hover': {backgroundColor:'rgba(128,128,128,0.3)'},\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    inputFile: {\r\n        display: \"none\",\r\n      },\r\n    imgIcon:{\r\n        position: \"absolute\",\r\n        left: 50,\r\n        top: 52,\r\n        color: \"white\",\r\n      },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n    update:{\r\n        textAlign: \"right\",\r\n    },\r\n    account:{\r\n        minWidth: 300,\r\n    },\r\n    description:{\r\n        minWidth: \"100%\",\r\n    },\r\n  }));\r\n\r\nconst ProfileItem = ({id, user_id, nickname, picture, account, description, updated_at, created_at }) => {\r\n    const classes = useStyles();\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n      },\r\n      ]);\r\n\r\n// 全てを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      .where(\"guest_id\", \"==\", user_id)\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れる\r\n              id: doc.id,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n  if(typeof account === \"undefined\"){\r\n    account=\" \";\r\n  }\r\n  if(typeof description === \"undefined\"){\r\n    description=\" \";\r\n  }\r\n  if(typeof nickname === \"undefined\"){\r\n    nickname=\" \";\r\n  }\r\n  \r\n    // 各項目を監視\r\n    const [newpicture, setNewpicture] = useState(null);\r\n    const [newnickname, setNewnickname] = useState(nickname);\r\n    const [newaccount, setNewaccount] = useState(account);\r\n    const [newdescription, setNewdescription] = useState(description);\r\n\r\n\r\n    // disableを管理\r\n    const [disabled, setDisabled] = useState(true); \r\n    const onDisabled = () => {\r\n        setDisabled(false);\r\n      };\r\n    const offDisabled = () => {\r\n        setDisabled(true);\r\n        setNewpicture(null);\r\n        setNewnickname(nickname);\r\n        setNewaccount(account);\r\n        setNewdescription(description);\r\n      };\r\n    \r\n    // 画像の処理\r\n    const onChangeImageHandler = (e) => {\r\n        if (e.target.files[0]) {\r\n          setNewpicture(e.target.files[0]);\r\n          // サムネイル表示処理\r\n          const reader = new FileReader();\r\n          reader.onload = function(e) {\r\n            document.getElementById('thumbnail').setAttribute('src', e.target.result);\r\n          };\r\n          reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n          e.target.value = \"\";        \r\n      };\r\n    // 登録処理\r\n    const handleSubmit=(e) =>{\r\n        e.preventDefault();\r\n        // ここに登録処理を書く\r\n        if(newpicture){\r\n          // firebaseの仕様で同じファイル名の画像を複数回アップしてしまうと元々あったファイルが削除される\r\n          // そのためにファイル名をランダムにする必要がある、それが下\r\n          const S =\r\n              \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\"; //ランダムな文字列を作るための候補、62文字\r\n          const N = 16; //16文字の文字列を作るという意味 生成したい文字数が１６の文字列になる\r\n          const randomMoji = Array.from(crypto.getRandomValues(new Uint32Array(N))) //乱数を生成してくれるもので0からランダムな数字が１６こ選ばれる\r\n              .map((n) => S[n % S.length])\r\n              .join(\"\");\r\n          const fileName = randomMoji + \"_\" + newpicture.name;\r\n          // firebase storageに登録\r\n          const uploadImg = storage.ref(`pictures/${fileName}`).put(newpicture);\r\n          \r\n          // firebase dbに登録\r\n          uploadImg.on(\r\n              firebase.storage.TaskEvent.STATE_CHANGED,\r\n              () => {},  //進捗度合\r\n              (err) => {  //エラーの時\r\n                alert(err.message);\r\n              },\r\n              async () => { //成功の時\r\n                await storage\r\n                  .ref(\"pictures\")\r\n                  .child(fileName)\r\n                  // storageのファイルURLにアクセスし、取得\r\n                  .getDownloadURL()\r\n                  .then(async (url) => {\r\n                    await db.collection(\"profiles\").doc(id).update({\r\n                      nickname: newnickname,\r\n                      description:newdescription,\r\n                      picture:url,\r\n                      account:newaccount,\r\n                      updated_at:firebase.firestore.FieldValue.serverTimestamp(),\r\n                    });\r\n                    console.log(url);\r\n                    console.log(newnickname);\r\n                    console.log(newdescription);\r\n                    console.log(newaccount);\r\n                    // user_idがescortsの中にあるguest_idに一致するものの、guest_picとguest_nicknameを更新\r\n                    if (request.length!==0){\r\n                      request.map((item) => (\r\n                      db.collection(\"escorts\").doc(item.id).update({\r\n                        guest_nickname: newnickname,\r\n                        guest_pic:url,\r\n                        })\r\n                        ));\r\n                      }\r\n                  });\r\n              }\r\n            );\r\n          } else {\r\n              // テキストだけの処理\r\n        db.collection(\"profiles\").doc(id).update({\r\n          nickname: newnickname,\r\n          description:newdescription,\r\n          account:newaccount,\r\n          updated_at:firebase.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n        // user_idがescortsの中にあるguest_idに一致するものの、guest_nicknameを更新\r\n        if(request.length!==0){\r\n          request.map((item) => (\r\n          db.collection(\"escorts\").doc(item.id).update({\r\n            guest_nickname: newnickname,\r\n            })\r\n            ));\r\n          }\r\n      }\r\n        setDisabled(true);\r\n        setNewpicture(null);\r\n        setNewnickname(newnickname);\r\n        setNewaccount(newaccount);\r\n        setNewdescription(newdescription);\r\n    };\r\n\r\n    \r\n    return (\r\n        <div key={id}>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n        {disabled===true &&\r\n            <Button variant=\"contained\" color=\"primary\" className={classes.revise} onClick={onDisabled}>\r\n                修正する\r\n            </Button>}\r\n        {disabled===false &&\r\n            <Button variant=\"outlined\" color=\"primary\" className={classes.revise} onClick={offDisabled}>\r\n                中断して元に戻す\r\n            </Button>}\r\n        <form onSubmit={handleSubmit}>\r\n            <label>\r\n            <div className={classes.image}>\r\n                {/* 画像を選択したら、サムネイル表示 */}\r\n                { newpicture &&\r\n                    <img id=\"thumbnail\" src=\"\" alt=\"選択中の画像\" className={classes.img} />\r\n                } \r\n                {/* 既に入っている画像があれば表示するが、新しいのが入ったら表示しない */} \r\n                {!newpicture && picture &&  \r\n                <img id=\"thumbnail\" src={picture} alt=\"選択中の画像\" className={classes.img}/>}\r\n                {disabled===false &&\r\n                    <AddAPhotoIcon className={classes.imgIcon}/>  }\r\n                    {/* 画像を入れる時は、type=file */}\r\n                    <input\r\n                    type=\"file\"\r\n                    onChange={onChangeImageHandler}\r\n                    className={classes.inputFile}\r\n                    disabled={disabled}\r\n                    /> \r\n            </div>\r\n            </label>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■ニックネーム\r\n            </Typography>\r\n            <FormControl>\r\n                  <TextField\r\n                    value={newnickname}\r\n                    onChange={(e) => setNewnickname(e.target.value)}\r\n                    disabled={disabled}\r\n                    required\r\n                  />\r\n            </FormControl>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■SNSアカウント\r\n            </Typography>\r\n            <FormControl className={classes.account}>\r\n                  <TextField\r\n                    value={newaccount}\r\n                    onChange={(e) => setNewaccount(e.target.value)}\r\n                    disabled={disabled}\r\n                  />\r\n            </FormControl>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n                ■その他（自由記述）\r\n            </Typography>\r\n            <FormControl className={classes.description}>\r\n                    <TextField\r\n                        value={newdescription}\r\n                        multiline\r\n                        rows={5}\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        //  外だしせずにここで書く方法\r\n                        onChange={(e) => setNewdescription(e.target.value)}\r\n                        disabled={disabled}\r\n                    />\r\n                    </FormControl>\r\n\r\n        <Typography variant=\"body2\" display=\"block\" className={classes.update}>\r\n        {updated_at &&\r\n         <>更新日：{new Date(updated_at?.toDate()).toLocaleString()}</>}\r\n        {!updated_at &&\r\n         <>作成日：{new Date(created_at?.toDate()).toLocaleString()}</>}\r\n        </Typography>\r\n        <Button variant=\"contained\" color=\"primary\" disabled={disabled} type=\"submit\">修正登録</Button>\r\n\r\n        </form>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileItem\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport ProfileItem from './ProfileItem'\r\nimport { db } from \"../../firebase\";\r\n\r\n// 自分の自己紹介を編集するページ。\r\n// profilesからmyidにuser_idが一致するものを取得\r\n\r\nconst GuestProfile = ({myId, history}) => {\r\n    // firebaseに作成した項目を受け取るための変数＝useState\r\n    const [profile, setProfile] = useState([\r\n        {\r\n            id: \"\",\r\n            user_id: \"\",\r\n            nickname:\"\",\r\n            user_flg: \"\",\r\n            picture: \"\",\r\n            description: \"\",\r\n            account: \"\",\r\n            created_at: null,\r\n            updated_at: null,\r\n        },\r\n        ]);\r\n\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"profiles\")\r\n          .where(\"user_id\", \"==\", myId)\r\n          .onSnapshot((snapshot) =>\r\n              setProfile(\r\n                snapshot.docs.map((doc) => ({\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: doc.id,\r\n                  user_id: doc.data().user_id,\r\n                  nickname: doc.data().nickname,\r\n                  user_flg: doc.data().user_flg,\r\n                  picture: doc.data().picture,\r\n                  description: doc.data().description,\r\n                  account: doc.data().account,\r\n                  created_at: doc.data().created_at,\r\n                  updated_at: doc.data().updated_at,\r\n                }))\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []);\r\n\r\n    return (\r\n      \r\n        <>\r\n        <Title title=\"自己紹介\" history={history}/>\r\n\r\n        {profile.map((item) => (\r\n        <ProfileItem\r\n            key={item.id}\r\n            id={item.id}\r\n            nickname={item.nickname}\r\n            picture={item.picture}\r\n            account={item.account}\r\n            description={item.description}\r\n            updated_at={item.updated_at}\r\n            created_at={item.created_at}\r\n            user_id={item.user_id}\r\n            />\r\n            ))}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestProfile\r\n","import React from 'react'\r\nimport { Badge } from '@material-ui/core';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\n\r\nconst ChatBudge = ({myId}) => {\r\n    // const [invisibleChat, setInvisibleChat] = useState(true);\r\n    \r\n    return (\r\n        <>\r\n            <Badge variant=\"dot\" color=\"secondary\" invisible>\r\n                <MessageIcon />\r\n            </Badge>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatBudge\r\n","import React from 'react'\r\nimport { Badge } from '@material-ui/core';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\n\r\n// const notices =[\r\n//     {\r\n//      id: 0,\r\n//      escorts_id: 1,\r\n//      user_id: \"aaa\",\r\n//      notice:\"Tomさんがあなたをボランティアに選びました！\",\r\n//      date: \"2021/07/25\",\r\n//      already_read: 0,\r\n//      icon:0,\r\n//     },\r\n//     {\r\n//      id: 1,\r\n//      escorts_id: 2,\r\n//      user_id: \"aaa\",\r\n//      notice:\"Bobさんのボランティアに選ばれませんでした。\",\r\n//      date: \"2021/07/24\",\r\n//      already_read: 1,\r\n//      icon:1,\r\n//     },\r\n// ];\r\n\r\n\r\nconst NoticeBudge = ({myId}) => {\r\n    // const [invisibleNotice, setInvisibleNotice] = useState(true);\r\n\r\n    // データ取得\r\n    // noticesの中にあるuser_idがmyIdと一致するものの中で、already_readが0のものがある場合\r\n    // const filtered = notices.filter((filtereditem) => (filtereditem.user_id === myId));\r\n    // const unread = filtered.filter((item) => (item.already_read === 0));\r\n\r\n    // budgeがつく条件を書く\r\n\r\n\r\n    return (\r\n        <>\r\n            <Badge variant=\"dot\" color=\"secondary\" invisible >\r\n                  <NotificationsIcon />\r\n            </Badge>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NoticeBudge\r\n","import React, {useState, useEffect}from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport RecentActorsIcon from '@material-ui/icons/RecentActors';\r\nimport \"../../style.css\";\r\nimport GuestRequest from \"../request/GuestRequest\";\r\nimport GuestMylist from \"../mylist/GuestMylist\";\r\nimport ChatTop from \"../../chat/ChatTop\";\r\nimport GuestNotice from \"../notice/GuestNotice\";\r\nimport GuestProfile from \"../profile/GuestProfile\";\r\nimport ChatBudge from \"./ChatBudge\";\r\nimport NoticeBudge from \"./NoticeBudge\";\r\nimport { db } from \"../../firebase\";\r\n\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`scrollable-prevent-tabpanel-${index}`}\r\n        aria-labelledby={`scrollable-prevent-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `scrollable-prevent-tab-${index}`,\r\n      'aria-controls': `scrollable-prevent-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      width: '100%',\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    appBar: {\r\n        top: 'auto',\r\n        bottom: 0,\r\n        paddingTop: \"10px\",\r\n      },\r\n    label:{\r\n        fontSize: \"8px\",\r\n        marginTop: \"0px\",\r\n    },\r\n    tab:{\r\n        padding: \"6px 9px\"\r\n    },\r\n    icon:{\r\n      marginBottom: \"0px\",\r\n    },\r\n    margin:{\r\n      bottom: 0,\r\n      marginBottom: 80,\r\n    }\r\n  }));\r\n  \r\n  \r\nconst GuestNav = (props) => {\r\n  const myId = props.location.state.myId;\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const [profile, setProfile] = useState([\r\n    {\r\n      id: \"\",\r\n      nickname:\"\",\r\n      picture:\"\",\r\n    },\r\n    ]);\r\n\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"profiles\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .onSnapshot((snapshot) =>\r\n                setProfile(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    nickname: doc.data().nickname,\r\n                    picture: doc.data().picture,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);   \r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n      <TabPanel value={value} index={0}>\r\n        <GuestRequest \r\n         myId={myId}\r\n         mynickname={profile[0].nickname}\r\n         mypic={profile[0].picture} \r\n         history={props.history}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <GuestMylist myId={myId}\r\n                    mynickname={profile[0].nickname}\r\n                    mypic={profile[0].picture}\r\n                    history={props.history} />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <ChatTop myId={myId}\r\n                 mynickname={profile[0].nickname}\r\n                 mypic={profile[0].picture}\r\n                 history={props.history}  />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        <GuestNotice \r\n         myId={myId} \r\n         history={props.history}\r\n         mynickname={profile[0].nickname}\r\n         mypic={profile[0].picture}  />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={4}>\r\n        <GuestProfile myId={myId}\r\n        history={props.history}/>\r\n      </TabPanel>\r\n      <div className={classes.margin}></div>\r\n      <AppBar position=\"fixed\" color=\"inherit\" className={classes.appBar}>\r\n        <Tabs\r\n          variant=\"fullWidth\"\r\n          value={value}\r\n          onChange={handleChange}\r\n          textColor=\"primary\"\r\n        >\r\n          <Tab icon={<PersonPinIcon />} \r\n           label={<p className={classes.label}>リクエスト</p>} \r\n           {...a11yProps(0)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<AssignmentIcon />} \r\n           label={<p className={classes.label}>マイリスト</p>} \r\n           {...a11yProps(1)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<ChatBudge myId={myId}/>} \r\n           label={<p className={classes.label}>チャット</p>} \r\n           {...a11yProps(2)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<NoticeBudge myId={myId}/>} \r\n           label={<p className={classes.label}>お知らせ</p>} \r\n           {...a11yProps(3)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<RecentActorsIcon />} \r\n           label={<p className={classes.label}>自己紹介</p>} \r\n           {...a11yProps(4)} \r\n           className={classes.tab}\r\n           />\r\n        </Tabs>\r\n      </AppBar>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default GuestNav\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n    image: {\r\n        width: \"8rem\",\r\n        height: \"8rem\",\r\n        margin: \"0 auto\",\r\n        marginBottom: \"10px\",\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n\r\n  }));\r\n\r\nconst GuestInfoItem = ({nickname, picture, account, description}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n            { picture ? (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={picture} alt={`${nickname}のプロフィール画像`} className={classes.img}/>\r\n                </div>\r\n                </>\r\n                ) : (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={Img} alt=\"画像はありません\" className={classes.img}/>\r\n                </div>\r\n                </>\r\n                )\r\n            }\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■ニックネーム：{nickname}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■SNSアカウント：\r\n            </Typography>\r\n            <a href={account}>{account}</a>\r\n\r\n        <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■自己紹介：\r\n        </Typography>\r\n        {description}\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestInfoItem\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport GuestInfoItem from './GuestInfoItem'\r\nimport { db } from \"../../firebase\";\r\n\r\n\r\nconst GuestInfo = (props) => {\r\n    // guest_idを前ページから受け取る。\r\n    const guestId = props.location.state.guestId;\r\n    // profilesからデータ呼び出し\r\n\r\n        // firebaseに作成した項目を受け取るための変数＝useState\r\n        const [profile, setProfile] = useState([\r\n          {\r\n              id: \"\",\r\n              user_id: \"\",\r\n              nickname:\"\",\r\n              user_flg: \"\",\r\n              picture: \"\",\r\n              description: \"\",\r\n              accout: \"\",\r\n              created_at: null,\r\n              updated_at: null,\r\n          },\r\n          ]);\r\n\r\n // dbからguestIdに一致するuser_idの情報を取得\r\n// firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n     useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"profiles\")\r\n          .where(\"user_id\", \"==\", guestId)\r\n          .onSnapshot((snapshot) =>\r\n              setProfile(\r\n                snapshot.docs.map((doc) => ({\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: doc.id,\r\n                  user_id: doc.data().user_id,\r\n                  nickname: doc.data().nickname,\r\n                  user_flg: doc.data().user_flg,\r\n                  picture: doc.data().picture,\r\n                  description: doc.data().description,\r\n                  accout: doc.data().accout,\r\n                  created_at: doc.data().created_at,\r\n                  updated_at: doc.data().updated_at,\r\n                }))\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []);\r\n    \r\n    return (\r\n        <div>\r\n            <Title title=\"ゲストの自己紹介ページ\" history={props.history}/>\r\n            {/* guestinfoの中身をitemに入れて表示処理 */}\r\n            {profile.map((item) => (\r\n            // GuestInfoItemコンポーネントに各プロパティを渡す\r\n            <GuestInfoItem\r\n            key={item.id}\r\n            nickname={item.nickname}\r\n            picture={item.picture}\r\n            account={item.account}\r\n            description={item.description}\r\n            />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GuestInfo\r\n","import React from 'react'\r\nimport Title from '../common/Title'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n  }));\r\n\r\nconst ForumItem = (props) => {\r\n    const classes = useStyles();\r\n        // escort_idを前ページから受け取る。\r\n        const escortId = props.location.state.escortId;\r\n        const myId= props.location.state.myId;\r\n\r\n        console.log(escortId);\r\n        console.log(myId);\r\n        \r\n    return (\r\n        <div>\r\n            <Title title=\"掲示板\" history={props.history}/>\r\n            <div className={classes.margin}></div>\r\n            ここに掲示板が表示される\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ForumItem\r\n","import React from 'react'\r\nimport Title from '../common/Title'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n  }));\r\n\r\nconst ChatItem = (props) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div>\r\n            <Title title=\"個別チャット\" history={props.history}/>\r\n            <div className={classes.margin}></div>\r\n            ここにチャットが入る\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatItem\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { AppBar, Toolbar } from '@material-ui/core';\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        bottom: 'auto',\r\n        top: 0,\r\n        boxShadow: \"none\",\r\n      },\r\n      root: {\r\n        flexGrow: 1,\r\n      },\r\n      text:{\r\n        flexGrow: 1,\r\n      },\r\n  }));\r\n\r\nconst TitleOffline = ({title}) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <>\r\n        <div className={classes.root}>\r\n        <AppBar position=\"fixed\" color=\"primary\" className={classes.title}>\r\n        <Toolbar>\r\n            <Typography variant=\"h6\" className={classes.text}>\r\n                 {title}\r\n            </Typography>\r\n        </Toolbar>\r\n        </AppBar>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TitleOffline\r\n","import React,{useState, useEffect} from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport TitleOffline from './TitleOffline'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, FormControl, TextField} from '@material-ui/core';\nimport { auth } from \"./firebase\";\n\n\n// style\nconst useStyles = makeStyles((theme) => ({\n  margin:{\n      marginBottom: 150,\n  },\n  button:{\n    display: \"block\",\n    margin: \"0 auto\",\n    marginTop: 20,\n    marginBottom: 10,\n  },\n  text:{\n    textAlign: \"center\",\n  },\n  input:{\n    display:\"block\",\n    width: 260,\n    margin: \"0 auto\",\n    textAlign: \"center\",\n  },\n  link:{\n    display: \"block\",\n    width: 65,\n    margin: \"0 auto\",\n    marginTop: 20,\n    textDecoration: \"underline\",\n    cursor: \"pointer\",\n  },\n}));\n\nconst App = (props) => {\n  const classes = useStyles();\n  const [email, setEmail] = useState(''); \n  const [password, setPassword] = useState(''); \n\n  useEffect(() => {\n    // 認証関係に対して何かしらの変更があったときに実行されるfirebaseの機能\n    // onAuthStateChangedは→ログインしていたとか、ログアウトしたとかで呼び出される\n    // userというパラメーターがあり、これには「ログインが成功したときに」データが全部格納される\n    // userに何らかの情報がはいっていればログインに成功、入ってなければログイン失敗、ログインしていない\n    const unSub = auth.onAuthStateChanged((user) => {\n      // 判定の条件は何らかの情報が入っていた時→ルートの画面（App）に遷移させる(逆にuserにない場合は常にこの画面に止まり続ける)\n      !user && props.history.push(\"/\");\n    });\n    return () => unSub();\n  }, [props.history]);\n\n    // 新規登録へ遷移\n    const gotoRegister=()=>{\n        props.history.push({\n            pathname: '/register',\n        })\n    }\n\n  return (\n    <>\n      <TitleOffline title=\"ログイン\"/>\n      <div className={classes.margin}></div>\n            <FormControl component=\"fieldset\" className={classes.input}>\n              <TextField\n                label=\"メールアドレス\"\n                type=\"email\"\n                required\n                value={email}\n                onChange={e => setEmail(e.target.value)}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n               \n              />\n            </FormControl><br/>\n            <FormControl component=\"fieldset\" className={classes.input}>\n              <TextField\n                label=\"パスワード\"\n                type=\"password\"\n                required\n                value={password}\n                onChange={e => setPassword(e.target.value)}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n                \n              />\n            </FormControl>   \n            <Button \n              variant=\"contained\" \n              color=\"primary\" \n              className={classes.button}\n              onClick={\n                async () => {\n                  try{\n                    await auth.signInWithEmailAndPassword(email, password);\n                    props.history.push({\n                      pathname: \"/userflg\",\n                      state: { email: email,}\n                    });\n                  }catch(error){\n                    // ログインに失敗したらエラー表示\n                    alert(error.message);\n                  }\n                }\n              }>\n              ログイン</Button>\n\n        <p className={classes.link} onClick={gotoRegister}>新規登録</p>\n    </>\n  );\n};\n\nexport default withRouter(App);\n","import React, {useState} from 'react'\r\nimport TitleOffline from './TitleOffline'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Backdrop, Button, Fade, Modal, FormControl, InputLabel, MenuItem, Select, TextField} from '@material-ui/core';\r\nimport ModalItem from \"./common/ModalItem\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { db } from \"./firebase\";\r\nimport firebase from \"firebase/app\";\r\nimport { auth } from \"./firebase\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    area:{\r\n      marginBottom:20,\r\n    },\r\n    input:{\r\n      display: \"block\",\r\n      minWidth: 150,\r\n    },\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  button:{\r\n    display: \"block\",\r\n    margin: \"0 auto\",\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n  }));\r\n\r\nconst Register = (props) => {\r\n    const classes = useStyles();\r\n\r\n    //各項目を管理\r\n    const [lastname, setLastname] = useState(''); \r\n    const [firstname, setFirstname] = useState(''); \r\n    const [email, setEmail] = useState(''); \r\n    const [password, setPassword] = useState(''); \r\n    const [userflg, setUserflg] = useState(''); \r\n    const [nickname, setNickname] = useState(''); \r\n    // modal\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n      };\r\n    const handleOpen = (e) => {\r\n        // 画面が遷移しないようにpreventDefault\r\n        e.preventDefault();\r\n        setOpen(true);\r\n      };\r\n\r\n\r\n\r\n//登録処理\r\nconst handleSubmit=()=>{\r\n  if(String(password).length<6){\r\n    alert(\"パスワードは6桁以上を設定してください\");\r\n    return false;\r\n  }\r\n  // dbに入れる処理を書く\r\n  // 認証用のauthにuser情報をつくる\r\n  const register = async () => {\r\n    try {\r\n      // 作成時：firebaseに[createUserWithEmailAndPassword]というものがあるのでそれに\r\n      // email, passwordで保持した状態を送る\r\n      await auth.createUserWithEmailAndPassword(email, password);\r\n    } catch (error) {\r\n      // ログインできない、失敗したときはエラーで表示される\r\n      alert(error.message);\r\n    }};\r\n  register();\r\n  // dbのusersに入れる\r\n  const id =db.collection('users').doc().id;\r\n  db.collection(\"users\").doc(id).set({\r\n    first_name: firstname,\r\n    last_name: lastname,\r\n    email: email,\r\n    password: password,\r\n    user_flg: userflg,\r\n    created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n  });\r\n  // profilesにnicknameとuser_idを入れる\r\n  db.collection(\"profiles\").add({\r\n    user_id: id,\r\n    nickname: nickname,\r\n    created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n  });\r\n\r\n  props.history.push({\r\n    // app.jsに遷移。\r\n    pathname: '/',\r\n});\r\n};      \r\n\r\n    return (\r\n        <div>\r\n        <TitleOffline title=\"新規登録\" />\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n        <form onSubmit={handleOpen}>\r\n          <div className={classes.area}>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"姓\"\r\n                required\r\n                value={lastname}\r\n                onChange={e => setLastname(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"名\"\r\n                required\r\n                value={firstname}\r\n                onChange={e => setFirstname(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"メールアドレス\"\r\n                type=\"email\"\r\n                required\r\n                value={email}\r\n                onChange={e => setEmail(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>\r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <TextField\r\n                label=\"パスワード（6桁以上）\"\r\n                type=\"password\"\r\n                required\r\n                value={password}\r\n                onChange={e => setPassword(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </FormControl>                                           \r\n            <FormControl component=\"fieldset\" className={classes.input}>\r\n              <InputLabel shrink id=\"userFlg\" required>\r\n                登録種別\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"userFlg\"\r\n                id=\"userFlg\"\r\n                value={userflg}\r\n                onChange={e => setUserflg(e.target.value)}\r\n                displayEmpty\r\n              >\r\n                <MenuItem value=\"\">\r\n                  <em>ゲスト/ボランティア</em>\r\n                </MenuItem>\r\n                <MenuItem value=\"0\">ゲスト</MenuItem>\r\n                <MenuItem value=\"1\">ボランティア</MenuItem>\r\n              </Select>\r\n              </FormControl>\r\n            <FormControl component=\"fieldset\" >\r\n            <TextField\r\n                label=\"ニックネーム\"\r\n                value={nickname}\r\n                onChange={e => setNickname(e.target.value)}\r\n                required\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                />\r\n          </FormControl>\r\n          </div>\r\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\">登録</Button>\r\n              </form>        \r\n        </div>\r\n\r\n        {/* modal */}\r\n        <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n        <Fade in={open}>\r\n        <ModalItem\r\n          title=\"登録確認\"\r\n          text=\"この内容で登録しますか？\"\r\n          buttonText=\"登録する\"\r\n          handleClose={handleClose}\r\n          onSubmit={handleSubmit}\r\n          />\r\n        </Fade>\r\n        </Modal>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Register)\r\n","import React,{useState, useEffect} from \"react\";\r\nimport { db } from \"./firebase\";\r\n\r\nconst Userflg = (props) => {\r\n// ログイン時に取得したemailをもとに、user_idを取得\r\nconst email = props.location.state.email;\r\nconst [user, setUser] = useState([\r\n    {\r\n      id: \"\",\r\n      user_flg:\"\",\r\n    },\r\n    ]);\r\n\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"users\")\r\n            .where(\"email\", \"==\", email)\r\n            .onSnapshot((snapshot) =>\r\n                setUser(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    user_flg: doc.data().user_flg,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);    \r\n    return (\r\n        <> \r\n        {/* user_flgが0ならゲストページへ */}\r\n        {user[0].user_flg === \"0\" && \r\n        props.history.push({\r\n            pathname: \"/guest\",\r\n            state: { myId : user[0].id,}\r\n          })\r\n        }\r\n\r\n        {/* user_flgが1ならボランティアページへ */}         \r\n        {user[0].user_flg === \"1\" && \r\n        props.history.push({\r\n            pathname: \"/volunteer\",\r\n            state: { myId : user[0].id,}\r\n          })\r\n        }        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Userflg;\r\n","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Avatar, Button, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport { withRouter } from 'react-router-dom';\r\nimport \"../../style.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        marginBottom: 8,\r\n      },\r\n      paper: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n      large: {\r\n        width: theme.spacing(8),\r\n        height: theme.spacing(8),\r\n      },\r\n      avatar:{\r\n        paddingRight:\"10px\",\r\n      },\r\n      list:{\r\n        flexDirection: \"column\",\r\n        padding: \"0 0 0 0\",\r\n      },\r\n      list2:{\r\n        padding: \"0 0 0 0\",\r\n        position:\"relative\",\r\n        marginBottom: \"0\",\r\n      },\r\n      button:{\r\n        boxShadow: \"none\",\r\n        position: \"absolute\",\r\n        right: \"0\",\r\n        bottom: \"0\",\r\n        pointerEvents: \"none\",\r\n    },\r\n      image: {\r\n        width: \"5rem\",\r\n        height: \"5rem\",\r\n      },\r\n      img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n  }));\r\n\r\n  const RequestItem = ({myId, mynickname, mypic, history, id, volunteer_id, picture, nickname, es_date, start_time, departure, destination, number, lan_1, lan_2, lan_3, status, status_2, rikkouho_id, emergency}) => {\r\n    const classes = useStyles();\r\n\r\n    // clickイベント\r\n    const handleClick=()=>{\r\n      history.push({\r\n        // detailに遷移。idを渡す。\r\n        pathname: '/volunteer/detail',\r\n        state: { escortId: id,\r\n                 myId: myId,\r\n                 mynickname: mynickname,\r\n                 mypic: mypic,\r\n                }\r\n      });\r\n    }\r\n\r\n    // rikkouho_idの中身を取得\r\n    let rikkouho =\"\";\r\n      if (rikkouho_id) {\r\n         rikkouho = rikkouho_id.includes(myId);\r\n     }if(!rikkouho_id){\r\n          rikkouho = false;\r\n    };\r\n  \r\n    // volunteer_idの中身がmyIdと一致するかを確認\r\n      let disabled = null;\r\n      if (status===\"成立済\" && volunteer_id === myId) {\r\n         disabled = false;\r\n     }if(status===\"成立済\" && volunteer_id !== myId){\r\n         disabled = true;\r\n    };\r\n    \r\n\r\n    return (\r\n        <>\r\n        <div key={id} className={classes.root}>\r\n  \r\n            {/* 外枠 */}\r\n            <Paper className={classes.paper}>\r\n            <ListItem button className={classes.list} onClick={handleClick} >\r\n              <ListItem className={classes.list2}>\r\n                <ListItemAvatar className={classes.avatar}>\r\n                { picture ? (\r\n                <>\r\n                    <Avatar variant=\"rounded\" src={picture} alt={`${nickname}のプロフィール画像`}  className={classes.large}/>\r\n              </>\r\n                ) : (\r\n                <>\r\n                    <Avatar variant=\"rounded\" src={Img} alt=\"画像はありません\"  className={classes.large}/>\r\n                </>\r\n                )}\r\n                </ListItemAvatar>\r\n                <ListItemText \r\n                    className={classes.text}\r\n                    primary={`${nickname}さんのリクエスト`}\r\n                    secondary={\r\n                        <>\r\n                        <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                        ■日時：{es_date} の {start_time}～\r\n                        </Typography>\r\n                        </>\r\n                    }/>\r\n              </ListItem>\r\n              <ListItem  className={classes.list2}>\r\n              <ListItemText\r\n              secondary={\r\n                <>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■出発地：{departure} \r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■目的地：{destination}\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■言語：{lan_1}{ lan_2 && `、${lan_2}`}{ lan_3 && `、${lan_3}`}\r\n                  </Typography>\r\n                  <Typography component=\"span\" variant=\"body2\" display=\"block\">\r\n                  ■人数：{number}人\r\n                  </Typography>\r\n                </>\r\n              }/>\r\n              </ListItem>\r\n              {/* 募集中なら募集中マーク */}\r\n              { status===\"募集中\" && rikkouho=== false &&\r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"small\">\r\n                      {status}\r\n                  </Button>\r\n                </>\r\n              }\r\n              {/* 立候補済なら立候補済マーク */}\r\n              { status===\"募集中\" && rikkouho=== true &&\r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"small\">\r\n                      立候補済\r\n                  </Button>\r\n                </>\r\n              } \r\n              {/* 完了なら完了マーク */}\r\n              {status===\"成立済\" && status_2===\"完了\" &&\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"small\">\r\n                {status_2}\r\n                </Button>\r\n                </>\r\n              }\r\n              {/* 自分とマッチングしているものは、待機中や到着、完了報告など、進捗の詳細が出る */}\r\n              { status===\"成立済\" && status_2===\"待機中\" && disabled===false &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                {status_2}\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"到着\" && disabled===false &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                 進行中\r\n                </Button>\r\n                </>\r\n              }\r\n              { status===\"成立済\" && status_2===\"完了報告\" && disabled===false &&\r\n                <>\r\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} size=\"small\">\r\n                 進行中\r\n                </Button>\r\n                </>\r\n              }\r\n              {/* 自分以外のボランティアとマッチングしている場合は、成立済のみ */}\r\n              { status===\"成立済\" && status_2!==\"完了\" && disabled===true && \r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"small\">\r\n                 {status}\r\n                </Button>\r\n                </>\r\n              }                       \r\n\r\n            </ListItem>\r\n            </Paper>\r\n        </div>\r\n        </>\r\n    )\r\n  }\r\n\r\nexport default withRouter(RequestItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport RequestItem from './RequestItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// ここにdbからrealtime Requestのデータを取得するコードを書く（ひとまずはダミーのオブジェクト）\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n}));\r\n\r\n// RequestTopのリアルタイム部分\r\nconst RealtimeRequest = ({history, myId, mynickname, mypic}) => {\r\n  const classes = useStyles();\r\n\r\n  const [request, setRequest] = useState([\r\n    {\r\n      id: \"\",\r\n      guest_id:\"\",\r\n      volunteer_id:\"\",\r\n      rikkouho_id:\"\",\r\n      es_date: \"\",\r\n      start_time:\"\",\r\n      departure: \"\",\r\n      destination:\"\",\r\n      number:\"\",\r\n      lan_1:\"\",\r\n      lan_2:\"\",\r\n      lan_3:\"\",\r\n      status: \"\",\r\n      status_2: \"\",\r\n      emergency: \"\",\r\n      volunteer_pic:\"\",\r\n      volunteer_nickname:\"\",\r\n      guest_pic:\"\",\r\n      guest_nickname:\"\",\r\n    },\r\n    ]);\r\n\r\n// 現在日付\r\nlet now = new Date();            //日付取得準備（必須）！！\r\nlet year = now.getFullYear();    //年\r\nlet m = (\"0\"+(now.getMonth() + 1)).slice(-2);    //月（2桁表示）\r\nlet d =  (\"0\"+now.getDate()).slice(-2);  //日（2桁表示）\r\nlet nowDate = year + \"/\" + m + \"/\" + d;    \r\n\r\n// firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n// emergencyに指定の値が入っていて、statusが募集中のデータのうち、日時順（DB内で設定？）に上から3つ取得する\r\n\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      // 今日で、募集中のものを、作られたもの順に3つ表示\r\n      .where(\"es_date\", \"==\", nowDate)\r\n      .where(\"emergency\", \"==\", 1)\r\n      .where(\"status\", \"==\", \"募集中\")\r\n      .orderBy(\"created_at\", \"asc\")\r\n      .limit(3)\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れて、\r\n              // 各プロパティに入れて、更新\r\n              id: doc.id,\r\n              guest_id: doc.data().guest_id,\r\n              volunteer_id: doc.data().volunteer_id,\r\n              rikkouho_id: doc.data().rikkouho_id,\r\n              es_date: doc.data().es_date,\r\n              start_time: doc.data().start_time,\r\n              departure: doc.data().departure,\r\n              destination: doc.data().destination,\r\n              number: doc.data().number,\r\n              lan_1: doc.data().lan_1,\r\n              lan_2: doc.data().lan_2,\r\n              lan_3: doc.data().lan_3,\r\n              status: doc.data().status,\r\n              status_2: doc.data().status_2,\r\n              emergency: doc.data().emergency,\r\n              guest_nickname:doc.data().guest_nickname,\r\n              guest_pic:doc.data().guest_pic,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request.length !== 0 && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname} \r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n            <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n              ＜現在、表示できるリクエストがありません＞\r\n            </Typography>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RealtimeRequest\r\n","import React, {useState, useEffect} from 'react'\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// ここにdbからRequestのデータを取得するコードを書く\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n}));\r\n// RequestTopの直近部分\r\nconst RecentRequest = ({history, myId, mynickname, mypic}) => {\r\n  const classes = useStyles();\r\n  const [request, setRequest] = useState([\r\n    {\r\n      id: \"\",\r\n      guest_id:\"\",\r\n      volunteer_id:\"\",\r\n      rikkouho_id:\"\",\r\n      es_date: \"\",\r\n      start_time:\"\",\r\n      departure: \"\",\r\n      destination:\"\",\r\n      number:\"\",\r\n      lan_1:\"\",\r\n      lan_2:\"\",\r\n      lan_3:\"\",\r\n      status: \"\",\r\n      status_2: \"\",\r\n      emergency: \"\",\r\n      volunteer_pic:\"\",\r\n      volunteer_nickname:\"\",\r\n      guest_pic:\"\",\r\n      guest_nickname:\"\",\r\n    },\r\n    ]);\r\n\r\n// 現在日付\r\nlet now = new Date();            //日付取得準備（必須）！！\r\nlet year = now.getFullYear();    //年\r\nlet m = (\"0\"+(now.getMonth() + 1)).slice(-2);    //月（2桁表示）\r\nlet d =  (\"0\"+now.getDate()).slice(-2);  //日（2桁表示）\r\nlet nowDate = year + \"/\" + m + \"/\" + d;    \r\n\r\n// emergencyに0がついてるやつだけを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      // 今日以降で、募集中のものを、日付順に3つ表示\r\n      .where(\"emergency\", \"==\", 0)\r\n      .where(\"status\", \"==\", \"募集中\")\r\n      .where(\"es_date\", \">=\", nowDate)\r\n      .orderBy(\"es_date\", \"asc\")\r\n      .limit(3)\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れて、\r\n              // 各プロパティに入れて、更新\r\n              id: doc.id,\r\n              guest_id: doc.data().guest_id,\r\n              volunteer_id: doc.data().volunteer_id,\r\n              rikkouho_id: doc.data().rikkouho_id,\r\n              es_date: doc.data().es_date,\r\n              start_time: doc.data().start_time,\r\n              departure: doc.data().departure,\r\n              destination: doc.data().destination,\r\n              number: doc.data().number,\r\n              lan_1: doc.data().lan_1,\r\n              lan_2: doc.data().lan_2,\r\n              lan_3: doc.data().lan_3,\r\n              status: doc.data().status,\r\n              status_2: doc.data().status_2,\r\n              emergency: doc.data().emergency,\r\n              guest_nickname:doc.data().guest_nickname,\r\n              guest_pic:doc.data().guest_pic,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n    return (\r\n        <div>\r\n            { request.length !== 0 && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}                    \r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname} \r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、表示できるリクエストがありません＞\r\n              </Typography>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RecentRequest\r\n","import React, {useState, useEffect} from 'react'\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// Requestのすべての部分（データ取得）\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  text:{\r\n    margin: \"0 auto\",\r\n    maxWidth: \"500px\",\r\n    marginBottom: 10,\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\nconst AllRequest = ({history, myId, mynickname, mypic}) => {\r\n  const classes = useStyles();\r\n  const [request, setRequest] = useState([\r\n    {\r\n      id: \"\",\r\n      guest_id:\"\",\r\n      volunteer_id:\"\",\r\n      rikkouho_id:\"\",\r\n      es_date: \"\",\r\n      start_time:\"\",\r\n      departure: \"\",\r\n      destination:\"\",\r\n      number:\"\",\r\n      lan_1:\"\",\r\n      lan_2:\"\",\r\n      lan_3:\"\",\r\n      status: \"\",\r\n      status_2: \"\",\r\n      emergency: \"\",\r\n      volunteer_pic:\"\",\r\n      volunteer_nickname:\"\",\r\n      guest_pic:\"\",\r\n      guest_nickname:\"\",\r\n    },\r\n    ]);\r\n\r\n// 現在日付\r\nlet now = new Date();            //日付取得準備（必須）！！\r\nlet year = now.getFullYear();    //年\r\nlet m = (\"0\"+(now.getMonth() + 1)).slice(-2);    //月（2桁表示）\r\nlet d =  (\"0\"+now.getDate()).slice(-2);  //日（2桁表示）\r\nlet nowDate = year + \"/\" + m + \"/\" + d; \r\n\r\n// 全てを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      .where(\"status\", \"in\", [\"募集中\", \"成立済\"])\r\n      .where(\"es_date\", \">=\", nowDate)\r\n      .orderBy(\"es_date\", \"asc\")\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れて、\r\n              // 各プロパティに入れて、更新\r\n              id: doc.id,\r\n              guest_id: doc.data().guest_id,\r\n              volunteer_id: doc.data().volunteer_id,\r\n              rikkouho_id: doc.data().rikkouho_id,\r\n              es_date: doc.data().es_date,\r\n              start_time: doc.data().start_time,\r\n              departure: doc.data().departure,\r\n              destination: doc.data().destination,\r\n              number: doc.data().number,\r\n              lan_1: doc.data().lan_1,\r\n              lan_2: doc.data().lan_2,\r\n              lan_3: doc.data().lan_3,\r\n              status: doc.data().status,\r\n              status_2: doc.data().status_2,\r\n              emergency: doc.data().emergency,\r\n              guest_nickname:doc.data().guest_nickname,\r\n              guest_pic:doc.data().guest_pic,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n    return (\r\n        <>\r\n           { request.length !== 0 && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}                    \r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname} \r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、表示できるリクエストがありません＞\r\n              </Typography>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AllRequest\r\n","import React, {useState, useEffect} from 'react'\r\nimport RequestItem from './RequestItem';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// Requestの募集中の部分 (データ取得)\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  text:{\r\n    margin: \"0 auto\",\r\n    maxWidth: \"500px\",\r\n    marginBottom: 10,\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\nconst WantedRequest = ({myId, history, mynickname, mypic}) => {\r\n  const classes = useStyles();\r\n  const [request, setRequest] = useState([\r\n    {\r\n      id: \"\",\r\n      guest_id:\"\",\r\n      volunteer_id:\"\",\r\n      rikkouho_id:\"\",\r\n      es_date: \"\",\r\n      start_time:\"\",\r\n      departure: \"\",\r\n      destination:\"\",\r\n      number:\"\",\r\n      lan_1:\"\",\r\n      lan_2:\"\",\r\n      lan_3:\"\",\r\n      status: \"\",\r\n      status_2: \"\",\r\n      emergency: \"\",\r\n      volunteer_pic:\"\",\r\n      volunteer_nickname:\"\",\r\n      guest_pic:\"\",\r\n      guest_nickname:\"\",\r\n    },\r\n    ]);\r\n\r\n// 現在日付\r\nlet now = new Date();            //日付取得準備（必須）！！\r\nlet year = now.getFullYear();    //年\r\nlet m = (\"0\"+(now.getMonth() + 1)).slice(-2);    //月（2桁表示）\r\nlet d =  (\"0\"+now.getDate()).slice(-2);  //日（2桁表示）\r\nlet nowDate = year + \"/\" + m + \"/\" + d;     \r\n\r\n// statusに\"募集中\"が入っているやつだけを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      // 今日以降で、募集中のものを、日付順に表示\r\n      .where(\"es_date\", \">=\", nowDate)\r\n      .where(\"status\", \"==\", \"募集中\")\r\n      .orderBy(\"es_date\", \"asc\")\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れて、\r\n              // 各プロパティに入れて、更新\r\n              id: doc.id,\r\n              guest_id: doc.data().guest_id,\r\n              volunteer_id: doc.data().volunteer_id,\r\n              rikkouho_id: doc.data().rikkouho_id,\r\n              es_date: doc.data().es_date,\r\n              start_time: doc.data().start_time,\r\n              departure: doc.data().departure,\r\n              destination: doc.data().destination,\r\n              number: doc.data().number,\r\n              lan_1: doc.data().lan_1,\r\n              lan_2: doc.data().lan_2,\r\n              lan_3: doc.data().lan_3,\r\n              status: doc.data().status,\r\n              status_2: doc.data().status_2,\r\n              emergency: doc.data().emergency,\r\n              guest_nickname:doc.data().guest_nickname,\r\n              guest_pic:doc.data().guest_pic,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n\r\n    return (\r\n      <>\r\n           { request.length !== 0 && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}                    \r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname} \r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                 ＜現在、表示できるリクエストがありません＞\r\n              </Typography>}\r\n      </>\r\n    )\r\n}\r\n\r\nexport default WantedRequest\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Typography } from '@material-ui/core';\r\nimport \"../../style.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n      image: {\r\n        width: \"600\",\r\n        height: \"100\",\r\n        paddingTop: 10,\r\n      },\r\n      img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        maxWidth: '100%',\r\n        maxHeight: '100%',\r\n      },\r\n      subtitle:{\r\n        paddingTop: 8,\r\n      },\r\n      text:{\r\n        margin: \"0 auto\",\r\n        maxWidth: \"600px\",\r\n      },\r\n  }));\r\nconst Coverimage = ({title, text, src, alt, color}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <>\r\n        <div className={classes.text}>\r\n        <Typography variant=\"h6\" className={classes.subtitle}>{title}</Typography>\r\n        <div className={color}></div>\r\n        <Typography variant=\"body2\" >{text}</Typography>\r\n        </div>\r\n        <div className={classes.image}>\r\n            <img src={src} alt={alt} className={classes.img}/>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Coverimage\r\n\r\n","export default __webpack_public_path__ + \"static/media/realtime.003c699d.jpg\";","export default __webpack_public_path__ + \"static/media/pretime.d57eca61.jpg\";","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport RealtimeRequest from './RealtimeRequest';\r\nimport RecentRequest from './RecentRequest';\r\nimport AllRequest from './AllRequest';\r\nimport WantedRequest from './WantedRequest';\r\nimport Coverimage from './Coverimage';\r\nimport src1 from \"../../img/realtime.jpg\";\r\nimport src2 from \"../../img/pretime.jpg\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// VolunteerのTab。\r\n\r\n// タブ下の画面の表示処理\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n  // valueとindexが一致したときに、中身が表示される仕組み。\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`full-width-tabpanel-${index}`}\r\n        aria-labelledby={`full-width-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          // ここに表示させたいものを書く。childrenにはTabpanelの中身が表示される\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `full-width-tab-${index}`,\r\n      'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    tab: {\r\n      bottom: 'auto',\r\n      top: 55,\r\n    },\r\n    margin:{\r\n        top: 55,\r\n        marginBottom: 120,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n    },\r\n  }));\r\n  \r\nconst RequestTab = ({myId, mynickname, mypic, history}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [value, setValue] = useState(0);\r\n  \r\n    const handleChange = (event, newValue) => {\r\n      setValue(newValue);\r\n    };\r\n  \r\n    const handleChangeIndex = (index) => {\r\n      setValue(index);\r\n    };\r\n    return (\r\n      <>\r\n     <div className={classes.margin}></div>\r\n     <div className={classes.root}>\r\n      <AppBar position=\"fixed\" color=\"default\" className={classes.tab}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label=\"トップ\" {...a11yProps(0)} />\r\n          <Tab label=\"すべて\" {...a11yProps(1)} />\r\n          <Tab label=\"募集中\" {...a11yProps(2)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabPanel value={value} index={0} dir={theme.direction}>\r\n          <Coverimage\r\n            title=\"リアルタイムリクエスト\"\r\n            text=\"今日、今すぐあなたを必要としているゲストさんの情報が先着3件まで表示されます。早速リクエストを確認してみましょう！\"\r\n            src={src1}\r\n            color=\"borderRed\"\r\n            alt=\"リアルタイムリクエストのカバー画像\"/>\r\n          <Box p={1}>\r\n            <RealtimeRequest myId={myId} mynickname={mynickname} mypic={mypic} history={history}/>\r\n          </Box>\r\n          <Coverimage\r\n            title=\"事前リクエスト\"\r\n            text=\"実施日が近づいている事前リクエストが先着3件まで表示されます。\"\r\n            src={src2}\r\n            color=\"borderYellow\"\r\n            alt=\"事前リクエストのカバー画像\"/>\r\n            <Box p={1}>\r\n              <RecentRequest myId={myId} mynickname={mynickname} mypic={mypic} history={history}/>\r\n            </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1} dir={theme.direction}>\r\n          <Box p={1}>\r\n          <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n            募集中、成立済を含む全てのリクエストの一覧です。\r\n          </Typography>\r\n            <AllRequest myId={myId} mynickname={mynickname} mypic={mypic} history={history}/>\r\n          </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={2} dir={theme.direction}>\r\n          <Box p={1}>\r\n          <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n            現在ボランティアへの立候補者を募集中のリクエストの一覧です。<br/>\r\n          </Typography>\r\n            <WantedRequest myId={myId} mynickname={mynickname} mypic={mypic} history={history}/>\r\n          </Box>\r\n        </TabPanel>\r\n      </SwipeableViews>\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default RequestTab\r\n","import React from 'react'\r\nimport Title from '../../common/Title'\r\nimport RequestTab from './RequestTab'\r\n\r\n// VolunteerのTop画面。\r\nconst Request = ({myId, mynickname, mypic, history}) => {\r\n    return (\r\n        <>\r\n            <Title title=\"リクエスト\" history={history}/>\r\n            <RequestTab \r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                history={history}\r\n                />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Request\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from '../request/RequestItem';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// 成立済みで、未実施のものが入る\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n}));\r\n\r\nconst AcceptedVol = ({history, myId, mypic, mynickname}) => {\r\n    const classes = useStyles();\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        guest_nickname: \"\",\r\n        guest_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"volunteer_id\", \"==\", myId)\r\n        .where(\"status\", \"==\", \"成立済\")\r\n        .where(\"status_2\", \"in\", [\"待機中\", \"到着\", \"完了報告\"])\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                guest_nickname: doc.data().guest_nickname,\r\n                guest_pic: doc.data().guest_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request.length !== 0 && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mypic={mypic}\r\n                    mynickname={mynickname}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、表示できるボランティアがありません＞\r\n              </Typography>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AcceptedVol\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from '../request/RequestItem';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// 募集中で、立候補中（rikkouho_idの中にmyIdが入っている）のものが入る\r\n\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n}));\r\n\r\nconst WaitingVol = ({history, myId, mypic, mynickname}) => {\r\n    const classes = useStyles();\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        guest_nickname: \"\",\r\n        guest_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n    // escortsの中で、募集中で、rikkouho_idにmyIdが入っているものを日時順に表示\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"rikkouho_id\", \"array-contains\", myId)\r\n        .where(\"status\", \"==\", \"募集中\")\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                guest_nickname: doc.data().guest_nickname,\r\n                guest_pic: doc.data().guest_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request.length !== 0 && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2={requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mypic={mypic}\r\n                    mynickname={mynickname}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、表示できるボランティアがありません＞\r\n              </Typography>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WaitingVol\r\n","import React, {useState, useEffect} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport RequestItem from '../request/RequestItem';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// escortsの中で、volunteer_idにmyIdが入っていて、さらにstatus_2が\"完了\"になっているもの\r\n\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n      paddingBottom: 10,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n}));\r\n\r\nconst FinishedVol = ({history, myId, mypic, mynickname}) => {\r\n    const classes = useStyles();\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id:\"\",\r\n        volunteer_id:\"\",\r\n        rikkouho_id:\"\",\r\n        es_date: \"\",\r\n        start_time:\"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        guest_nickname: \"\",\r\n        guest_pic: \"\",\r\n      },\r\n      ]);\r\n\r\n    // escortsの中で、volunteer_idにmyIdが入っていて、さらにstatus_2が\"完了\"になっているもの\r\n  // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n  useEffect(() => {\r\n    const firebaseData = db\r\n        .collection(\"escorts\")\r\n        .where(\"volunteer_id\", \"==\", myId)\r\n        .where(\"status_2\", \"==\", \"完了\")\r\n        .orderBy(\"es_date\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n            setRequest(\r\n              snapshot.docs.map((doc) => ({\r\n                // firebaseから読み込んだデータをdocに入れて、\r\n                // 各プロパティに入れて、更新\r\n                id: doc.id,\r\n                guest_id: doc.data().guest_id,\r\n                volunteer_id: doc.data().volunteer_id,\r\n                rikkouho_id: doc.data().rikkouho_id,\r\n                es_date: doc.data().es_date,\r\n                start_time: doc.data().start_time,\r\n                departure: doc.data().departure,\r\n                destination: doc.data().destination,\r\n                number: doc.data().number,\r\n                lan_1: doc.data().lan_1,\r\n                lan_2: doc.data().lan_2,\r\n                lan_3: doc.data().lan_3,\r\n                status: doc.data().status,\r\n                status_2: doc.data().status_2,\r\n                emergency: doc.data().emergency,\r\n                guest_nickname: doc.data().guest_nickname,\r\n                guest_pic: doc.data().guest_pic,\r\n              }))\r\n            )\r\n          );\r\n    //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n    return () => {\r\n        firebaseData();\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classes.box}>\r\n                {/* requestが あったときだけ、表示処理をする*/}\r\n                { request.length !== 0  && (\r\n                <>\r\n                {/* requestの中身をrequestItemに入れて表示処理 */}\r\n                {request.map((requestItem) => (\r\n                    // requestItemコンポーネントに各プロパティを渡す\r\n                    <RequestItem\r\n                    key={requestItem.id}\r\n                    id={requestItem.id}\r\n                    volunteer_id={requestItem.volunteer_id}\r\n                    picture={requestItem.guest_pic}\r\n                    nickname= {requestItem.guest_nickname}\r\n                    rikkouho_id={requestItem.rikkouho_id}\r\n                    es_date= {requestItem.es_date}\r\n                    start_time= {requestItem.start_time}\r\n                    end_time= {requestItem.end_time}\r\n                    departure= {requestItem.departure}\r\n                    destination={requestItem.destination}\r\n                    number={requestItem.number}\r\n                    lan_1={requestItem.lan_1}\r\n                    lan_2={requestItem.lan_2}\r\n                    lan_3={requestItem.lan_3}\r\n                    status= {requestItem.status}\r\n                    status_2= {requestItem.status_2}\r\n                    emergency={requestItem.emergency}\r\n                    history={history}\r\n                    myId={myId}\r\n                    mynickname={mynickname}\r\n                    mypic={mypic}\r\n                    />\r\n                ))}\r\n                </>\r\n            )}\r\n            {request.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、表示できるボランティアがありません＞\r\n              </Typography>}            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FinishedVol\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\nimport AcceptedVol from './AcceptedVol';\r\nimport WaitingVol from './WaitingVol';\r\nimport FinishedVol from './FinishedVol';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// MylistのTab。\r\n\r\n// タブ下の画面の表示処理\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n  // valueとindexが一致したときに、中身が表示される仕組み。\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`full-width-tabpanel-${index}`}\r\n        aria-labelledby={`full-width-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          // ここに表示させたいものを書く。childrenにはTabpanelの中身が表示される\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `full-width-tab-${index}`,\r\n      'aria-controls': `full-width-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    tab: {\r\n      bottom: 'auto',\r\n      top: 55,\r\n    },\r\n    margin:{\r\n        top: 55,\r\n        marginBottom: 120,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n    },\r\n  }));\r\n  \r\nconst MylistTab = ({myId, mypic, mynickname, history}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [value, setValue] = useState(0);\r\n  \r\n    const handleChange = (event, newValue) => {\r\n      setValue(newValue);\r\n    };\r\n  \r\n    const handleChangeIndex = (index) => {\r\n      setValue(index);\r\n    };\r\n    return (\r\n      <>\r\n     <div className={classes.margin}></div>\r\n     <div className={classes.root}>\r\n      <AppBar position=\"fixed\" color=\"default\" className={classes.tab}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab label=\"成立済\" {...a11yProps(0)} />\r\n          <Tab label=\"承認待ち\" {...a11yProps(1)} />\r\n          <Tab label=\"履歴\" {...a11yProps(2)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <SwipeableViews\r\n        axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n        index={value}\r\n        onChangeIndex={handleChangeIndex}\r\n      >\r\n        <TabPanel value={value} index={0} dir={theme.direction}>\r\n        <Box p={1}>\r\n        <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n            あなたとマッチング済の、実施予定または進行中のボランティアの一覧です。\r\n        </Typography>\r\n          <AcceptedVol \r\n            myId={myId}\r\n            mypic={mypic}\r\n            mynickname={mynickname}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={1} dir={theme.direction}>\r\n        <Box p={1}>\r\n        <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n            あなたが立候補したボランティアの一覧です。ゲストさんのボランティア選択の結果は「お知らせ」に通知が来ます。\r\n        </Typography>          \r\n          <WaitingVol \r\n            myId={myId}\r\n            mypic={mypic}\r\n            mynickname={mynickname}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n        <TabPanel value={value} index={2} dir={theme.direction}>\r\n        <Box p={1}>\r\n        <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n            あなたが過去に実施した完了済のボランティアの一覧です。\r\n        </Typography>\r\n          <FinishedVol \r\n            myId={myId}\r\n            mypic={mypic}\r\n            mynickname={mynickname}\r\n            history={history}/>\r\n        </Box>\r\n        </TabPanel>\r\n      </SwipeableViews>\r\n      </div>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default MylistTab\r\n","import React from 'react'\r\nimport Title from '../../common/Title'\r\nimport MylistTab from './MylistTab'\r\n\r\nconst Mylist = ({myId, mypic, mynickname, history}) => {\r\n    return (\r\n        <>\r\n        <Title title=\"マイリスト\" history={history}/>\r\n        <MylistTab \r\n            myId={myId}\r\n            mypic={mypic}\r\n            mynickname={mynickname}\r\n            history={history}\r\n            />           \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Mylist","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router-dom';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport PersonAddDisabledIcon from '@material-ui/icons/PersonAddDisabled';\r\nimport { green, blue } from '@material-ui/core/colors';\r\nimport WifiTetheringIcon from '@material-ui/icons/WifiTethering';\r\nimport \"../../style.css\";\r\nimport { db } from \"../../firebase\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    green: {\r\n        color: '#fff',\r\n        backgroundColor: green[500],\r\n      },\r\n    blue: {\r\n        color: '#fff',\r\n        backgroundColor: blue[500],\r\n      },\r\n    red: {\r\n        color: '#fff',\r\n        backgroundColor: \"#f44336\",\r\n      },\r\n    yellow: {\r\n        color: '#fff',\r\n        backgroundColor: \"#ffc400\",\r\n      },\r\n    black: {\r\n        color: '#fff',\r\n        backgroundColor: \"black\",\r\n      },\r\n  }));\r\n\r\nconst NoticeItem = ({id, mypic, mynickname, escort_id, notice, created_at, already_read, icon, history, myId}) => {\r\n    const classes = useStyles();\r\n\r\n    // clickイベント\r\n    const handleClick=()=>{\r\n        // already_readを1にして、dbを更新する処理を追加する\r\n        db.collection(\"notices\").doc(id).update({\r\n          already_read: 1,\r\n        });\r\n        history.push({\r\n          // detailに遷移。idを渡す。\r\n          pathname: '/volunteer/detail',\r\n          state: { escortId: escort_id ,\r\n                    myId: myId,\r\n                    mypic: mypic,\r\n                    mynickname: mynickname,\r\n                  }\r\n        });\r\n        \r\n      }\r\n    return (\r\n        <div key={id} className={already_read}>\r\n            {/* already_readが0なら、色変える */}\r\n            <ListItem alignItems=\"center\" button onClick={handleClick}>\r\n                \r\n                    {/* 内容によって、アイコンを変える */}\r\n                    {/* ボランティアに選ばれた時 icon=0 */}\r\n                    {icon===0 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.red}><PersonAddIcon /></Avatar>\r\n                    </ListItemAvatar>}\r\n\r\n                    {/* 選ばれなかった時 icon=1*/}\r\n                    {icon===1 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.black}><PersonAddDisabledIcon/></Avatar>\r\n                    </ListItemAvatar>}\r\n\r\n                    {/* 到着確認の時 icon=2*/} \r\n                    {icon===2 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.green}><RoomIcon /></Avatar>\r\n                    </ListItemAvatar>}       \r\n\r\n                    {/* 完了確認の時 icon=3*/} \r\n                    {icon===3 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.yellow}><AssignmentTurnedInIcon /></Avatar>\r\n                    </ListItemAvatar>}     \r\n\r\n                    {/* リアルタイムリクエストを出した時 icon=4*/} \r\n                    {icon===4 && \r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.blue}><WifiTetheringIcon /></Avatar>\r\n                    </ListItemAvatar>}                             \r\n                <ListItemText\r\n                primary={notice}\r\n                secondary={new Date(created_at?.toDate()).toLocaleString()}\r\n                />\r\n            </ListItem>\r\n            <Divider component=\"li\" /> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(NoticeItem)","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title';\r\nimport NoticeItem from './NoticeItem';\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport { Typography } from '@material-ui/core';\r\n\r\n// お知らせのトップ。\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        maxWidth: '500px',\r\n        backgroundColor: theme.palette.background.paper,\r\n        margin: \"0 auto\",\r\n      },\r\n    margin:{\r\n        marginBottom: 60,\r\n    },\r\n    text:{\r\n        margin: \"0 auto\",\r\n        maxWidth: \"500px\",\r\n        marginBottom: 10,\r\n        textAlign: \"center\",\r\n      },\r\n  }));\r\n\r\nconst Notice = ({myId, mypic, mynickname, history}) => {\r\n    const classes = useStyles();\r\n\r\n       // firebaseに作成した項目を受け取るための変数＝useState\r\n       const [notice, setNotice] = useState([\r\n        {\r\n            id: \"\",\r\n            escort_id: \"\",\r\n            user_id: \"\",\r\n            icon:\"\",\r\n            notice: \"\",\r\n            already_read: \"\",\r\n            created_at: null,\r\n        },\r\n        ]);\r\n    \r\n    // noticesの中からuser_id=myIDのデータを取得。日付順に並べて、テキストと日付、アイコンを一緒に表示させる\r\n    // dbの中からuser_idがmyIdに一致するものを取得\r\n    useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"notices\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .orderBy(\"created_at\", \"desc\")\r\n            .onSnapshot((snapshot) =>\r\n                setNotice(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    escort_id: doc.data().escort_id,\r\n                    user_id: doc.data().user_id,\r\n                    icon: doc.data().icon,\r\n                    notice: doc.data().notice,\r\n                    already_read: doc.data().already_read,\r\n                    created_at: doc.data().created_at,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n    return (\r\n        <>\r\n        <Title title=\"お知らせ\" history={history}/>\r\n        <div className={classes.margin}></div>   \r\n        <List className={classes.root}>\r\n        {/* noticeの中身をitemに入れて表示処理 */}\r\n        {notice.length !== 0 &&\r\n         notice.map((item) => (\r\n            // コンポーネントに各プロパティを渡す\r\n            <NoticeItem\r\n                key={item.id}\r\n                id={item.id}\r\n                escort_id={item.escort_id}\r\n                notice={item.notice}\r\n                created_at={item.created_at}\r\n                already_read={item.already_read ===0 ? (\"colored\"):(\"\")}\r\n                icon={item.icon}\r\n                history={history}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n            />\r\n            ))}\r\n        </List>  \r\n        {notice.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、お知らせはありません＞\r\n              </Typography>}                \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notice\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhoto\";\r\nimport { Button,  FormControl, TextField} from \"@material-ui/core\";\r\nimport { storage, db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    revise:{\r\n        position: \"absolute\",\r\n        top: 7,\r\n        right: 5,\r\n    },\r\n    image: {\r\n        width: \"8rem\",\r\n        height: \"8rem\",\r\n        marginBottom: \"10px\",\r\n        backgroundImage: `url(${Img})`,\r\n        backgroundSize: \"cover\",\r\n        cursor: \"pointer\",\r\n        position: \"relative\",\r\n        verticalAlign: \"middle\",\r\n        textAlign: \"center\",\r\n        display: \"table-cell\",\r\n        '&:hover': {backgroundColor:'rgba(128,128,128,0.3)'},\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    inputFile: {\r\n        display: \"none\",\r\n      },\r\n    imgIcon:{\r\n        position: \"absolute\",\r\n        left: 50,\r\n        top: 52,\r\n        color: \"white\",\r\n      },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n    update:{\r\n        textAlign: \"right\",\r\n    },\r\n    account:{\r\n        minWidth: 300,\r\n    },\r\n    description:{\r\n        minWidth: \"100%\",\r\n    },\r\n  }));\r\n\r\nconst ProfileItem = ({id, user_id, nickname, picture, account, description, updated_at, created_at }) => {\r\n    const classes = useStyles();\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n      },\r\n      ]);\r\n\r\n// 全てを取得\r\nuseEffect(() => {\r\n  const firebaseData = db\r\n      .collection(\"escorts\")\r\n      .where(\"volunteer_id\", \"==\", user_id)\r\n      .onSnapshot((snapshot) =>\r\n          setRequest(\r\n            snapshot.docs.map((doc) => ({\r\n              // firebaseから読み込んだデータをdocに入れる\r\n              id: doc.id,\r\n            }))\r\n          )\r\n        );\r\n  //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n  return () => {\r\n      firebaseData();\r\n      };\r\n  }, []);\r\n\r\n  if(typeof account === \"undefined\"){\r\n    account=\" \";\r\n  }\r\n  if(typeof description === \"undefined\"){\r\n    description=\" \";\r\n  }\r\n  if(typeof nickname === \"undefined\"){\r\n    nickname=\" \";\r\n  }\r\n    // 各項目を監視\r\n    const [newpicture, setNewpicture] = useState(null);\r\n    const [newnickname, setNewnickname] = useState(nickname);\r\n    const [newaccount, setNewaccount] = useState(account);\r\n    const [newdescription, setNewdescription] = useState(description);\r\n    // disableを管理\r\n    const [disabled, setDisabled] = useState(true); \r\n    const onDisabled = () => {\r\n        setDisabled(false);\r\n      };\r\n    const offDisabled = () => {\r\n        setDisabled(true);\r\n        setNewpicture(null);\r\n        setNewnickname(nickname);\r\n        setNewaccount(account);\r\n        setNewdescription(description);\r\n      };\r\n    \r\n    // 画像の処理\r\n    const onChangeImageHandler = (e) => {\r\n        if (e.target.files[0]) {\r\n          setNewpicture(e.target.files[0]);\r\n          // サムネイル表示処理\r\n          const reader = new FileReader();\r\n          reader.onload = function(e) {\r\n            document.getElementById('thumbnail').setAttribute('src', e.target.result);\r\n          };\r\n          reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n          e.target.value = \"\";        \r\n      };\r\n    \r\n    // 登録処理\r\n    const handleSubmit=(e) =>{\r\n        e.preventDefault();\r\n        // ここに登録処理を書く\r\n        if(newpicture){\r\n          // firebaseの仕様で同じファイル名の画像を複数回アップしてしまうと元々あったファイルが削除される\r\n          // そのためにファイル名をランダムにする必要がある、それが下\r\n          const S =\r\n              \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\"; //ランダムな文字列を作るための候補、62文字\r\n          const N = 16; //16文字の文字列を作るという意味 生成したい文字数が１６の文字列になる\r\n          const randomMoji = Array.from(crypto.getRandomValues(new Uint32Array(N))) //乱数を生成してくれるもので0からランダムな数字が１６こ選ばれる\r\n              .map((n) => S[n % S.length])\r\n              .join(\"\");\r\n          const fileName = randomMoji + \"_\" + newpicture.name;\r\n  \r\n          // firebase storageに登録\r\n          const uploadImg = storage.ref(`pictures/${fileName}`).put(newpicture);\r\n          \r\n          // firebase dbに登録\r\n          uploadImg.on(\r\n              firebase.storage.TaskEvent.STATE_CHANGED,\r\n              () => {},  //進捗度合\r\n              (err) => {  //エラーの時\r\n                alert(err.message);\r\n              },\r\n              async () => { //成功の時\r\n                await storage\r\n                  .ref(\"pictures\")\r\n                  .child(fileName)\r\n                  // storageのファイルURLにアクセスし、取得\r\n                  .getDownloadURL()\r\n                  .then(async (url) => {\r\n                    await db.collection(\"profiles\").doc(id).update({\r\n                      nickname: newnickname,\r\n                      description:newdescription,\r\n                      picture:url,\r\n                      account:newaccount,\r\n                      updated_at:firebase.firestore.FieldValue.serverTimestamp(),\r\n                    });\r\n                    // user_idがescortsの中にあるvolunteer_idに一致するものの、volunteer_picとvolunteer_nicknameを更新\r\n                    if (request.length!==0){\r\n                    request.map((item) => (\r\n                        db.collection(\"escorts\").doc(item.id).update({\r\n                          volunteer_nickname: newnickname,\r\n                          volunteer_pic:url,\r\n                          })\r\n                          ));\r\n                    } \r\n                  });\r\n              }\r\n            );\r\n          } else {\r\n              // テキストだけの処理\r\n        db.collection(\"profiles\").doc(id).update({\r\n          nickname: newnickname,\r\n          description:newdescription,\r\n          account:newaccount,\r\n          updated_at:firebase.firestore.FieldValue.serverTimestamp(),\r\n        });\r\n        // user_idがescortsの中にあるvolunteer_idに一致するものの、volunteer_nicknameを更新\r\n        if(request.length!==0){request.map((item) => (\r\n          db.collection(\"escorts\").doc(item.id).update({\r\n            volunteer_nickname: newnickname,\r\n            })\r\n            ));\r\n          }\r\n      }\r\n        setDisabled(true);\r\n        setNewpicture(null);\r\n        setNewnickname(newnickname);\r\n        setNewaccount(newaccount);\r\n        setNewdescription(newdescription);\r\n    };\r\n\r\n    \r\n    return (\r\n        <div key={id}>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n        {disabled===true &&\r\n            <Button variant=\"contained\" color=\"primary\" className={classes.revise} onClick={onDisabled}>\r\n                修正する\r\n            </Button>}\r\n        {disabled===false &&\r\n            <Button variant=\"outlined\" color=\"primary\" className={classes.revise} onClick={offDisabled}>\r\n                中断して元に戻す\r\n            </Button>}\r\n        <form onSubmit={handleSubmit}>\r\n            <label>\r\n            <div className={classes.image}>\r\n                {/* 画像を選択したら、サムネイル表示 */}\r\n                { newpicture &&\r\n                    <img id=\"thumbnail\" src=\"\" alt=\"選択中の画像\" className={classes.img} />\r\n                } \r\n                {/* 既に入っている画像があれば表示するが、新しいのが入ったら表示しない */} \r\n                {!newpicture && picture &&  \r\n                <img id=\"thumbnail\" src={picture} alt=\"選択中の画像\" className={classes.img}/>}\r\n                {disabled===false &&\r\n                    <AddAPhotoIcon className={classes.imgIcon}/>  }\r\n                    {/* 画像を入れる時は、type=file */}\r\n                    <input\r\n                    type=\"file\"\r\n                    onChange={onChangeImageHandler}\r\n                    className={classes.inputFile}\r\n                    disabled={disabled}\r\n                    /> \r\n            </div>\r\n            </label>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■ニックネーム\r\n            </Typography>\r\n            <FormControl >\r\n                  <TextField\r\n                    value={newnickname}\r\n                    onChange={(e) => setNewnickname(e.target.value)}\r\n                    disabled={disabled}\r\n                    required\r\n                  />\r\n            </FormControl>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■SNSアカウント\r\n            </Typography>\r\n            <FormControl className={classes.account}>\r\n                  <TextField\r\n                    value={newaccount}\r\n                    onChange={(e) => setNewaccount(e.target.value)}\r\n                    disabled={disabled}\r\n                  />\r\n            </FormControl>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n                ■その他（自由記述）\r\n            </Typography>\r\n            <FormControl className={classes.description}>\r\n                    <TextField\r\n                        value={newdescription}\r\n                        multiline\r\n                        rows={5}\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        //  外だしせずにここで書く方法\r\n                        onChange={(e) => setNewdescription(e.target.value)}\r\n                        disabled={disabled}\r\n                    />\r\n                    </FormControl>\r\n\r\n        <Typography variant=\"body2\" display=\"block\" className={classes.update}>\r\n        {updated_at &&\r\n         <>更新日：{new Date(updated_at?.toDate()).toLocaleString()}</>}\r\n        {!updated_at &&\r\n         <>作成日：{new Date(created_at?.toDate()).toLocaleString()}</>}\r\n        </Typography>\r\n        <Button variant=\"contained\" color=\"primary\" disabled={disabled} type=\"submit\">修正登録</Button>\r\n\r\n        </form>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileItem\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    line:{\r\n        borderBottom: \"solid 0.5px black\",\r\n    },\r\n  }));\r\n  \r\n\r\nconst ReviewItem = ({id, evaluate, comment, created_at}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div key={id}>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            評価：{evaluate}<br/>\r\n            コメント：{comment}<br/>\r\n            (投稿日：{new Date(created_at?.toDate()).toLocaleString()})\r\n            </Typography>\r\n            <div className={classes.line}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ReviewItem\r\n","import React, {useState, useEffect} from 'react'\r\nimport { db } from \"../../firebase\";\r\nimport ReviewItem from './ReviewItem'\r\nimport { Typography } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n  }));\r\n\r\nconst Review = ({myId}) => {\r\n  const classes = useStyles();\r\n      // firebaseに作成した項目を受け取るための変数＝useState\r\n      const [evaluate, setEvaluate] = useState([\r\n        {\r\n            id: \"\",\r\n            escort_id:\"\",\r\n            volunteer_id: \"\",\r\n            guest_id: \"\",\r\n            evaluate: \"\",\r\n            comment:\"\",\r\n            created_at: null,\r\n        },\r\n        ]);\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"evaluates\")\r\n            .where(\"volunteer_id\", \"==\", myId)\r\n            .orderBy(\"created_at\", \"asc\")\r\n            .onSnapshot((snapshot) =>\r\n                setEvaluate(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    escort_id:doc.data().escort_id,\r\n                    volunteer_id:doc.data().volunteer_id,\r\n                    guest_id:doc.data().guest_id,\r\n                    evaluate:doc.data().evaluate,\r\n                    comment:doc.data().comment,\r\n                    created_at: doc.data().created_at,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n\r\n    return (\r\n        <>\r\n            {evaluate.length !== 0 && \r\n                evaluate.map((item) => (\r\n                <ReviewItem\r\n                    key={item.id}\r\n                    id={item.id}\r\n                    evaluate={item.evaluate}\r\n                    comment={item.comment}\r\n                    created_at={item.created_at}\r\n                />\r\n                ))}   \r\n        {evaluate.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、レビューはありません＞\r\n              </Typography>}                \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Review\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport ProfileItem from './ProfileItem'\r\nimport Review from './Review'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\n\r\n// 自分の自己紹介を編集するページ。\r\n// profilesの情報とevaluatesの情報を取得して表示させる\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n  reviewarea:{\r\n      backgroundColor: \"#f5f5f5\",\r\n      width: \"100%\",\r\n  },\r\n  box: {\r\n    padding: theme.spacing(1),\r\n    margin: 'auto',\r\n    maxWidth: 500,\r\n  },\r\n}));\r\n\r\nconst Profile = ({myId, history}) => {\r\n  const classes = useStyles();\r\n      // firebaseに作成した項目を受け取るための変数＝useState\r\n      const [profile, setProfile] = useState([\r\n        {\r\n            id: \"\",\r\n            user_id: \"\",\r\n            nickname:\"\",\r\n            user_flg: \"\",\r\n            picture: \"\",\r\n            description: \"\",\r\n            account: \"\",\r\n            created_at: null,\r\n            updated_at: null,\r\n        },\r\n        ]);\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"profiles\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .onSnapshot((snapshot) =>\r\n                setProfile(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    user_id: doc.data().user_id,\r\n                    nickname: doc.data().nickname,\r\n                    user_flg: doc.data().user_flg,\r\n                    picture: doc.data().picture,\r\n                    description: doc.data().description,\r\n                    account: doc.data().account,\r\n                    created_at: doc.data().created_at,\r\n                    updated_at: doc.data().updated_at,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);\r\n\r\n    return (\r\n      \r\n        <>\r\n        <Title title=\"自己紹介\" history={history}/>\r\n\r\n        {profile.map((item) => (\r\n        <ProfileItem\r\n            key={item.id}\r\n            id={item.id}\r\n            nickname={item.nickname}\r\n            picture={item.picture}\r\n            account={item.account}\r\n            description={item.description}\r\n            updated_at={item.updated_at}\r\n            created_at={item.created_at}\r\n            user_id={item.user_id}\r\n            />\r\n            ))}\r\n        <div className={classes.reviewarea}>\r\n          <div className={classes.box}>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■レビュー\r\n            </Typography>\r\n\r\n            <Review\r\n            myId={myId}\r\n            /> \r\n          </div>\r\n        </div>\r\n    \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React from 'react'\r\nimport { Badge } from '@material-ui/core';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\n\r\nconst ChatBudge = ({myId}) => {\r\n    // const [invisibleChat, setInvisibleChat] = useState(true);\r\n    \r\n    return (\r\n        <>\r\n            <Badge variant=\"dot\" color=\"secondary\" invisible>\r\n                <MessageIcon />\r\n            </Badge>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ChatBudge\r\n","import React from 'react'\r\nimport { Badge } from '@material-ui/core';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\n\r\n// const notices =[\r\n//     {\r\n//      id: 0,\r\n//      escorts_id: 1,\r\n//      user_id: \"aaa\",\r\n//      notice:\"Tomさんがあなたをボランティアに選びました！\",\r\n//      date: \"2021/07/25\",\r\n//      already_read: 0,\r\n//      icon:0,\r\n//     },\r\n//     {\r\n//      id: 1,\r\n//      escorts_id: 2,\r\n//      user_id: \"aaa\",\r\n//      notice:\"Bobさんのボランティアに選ばれませんでした。\",\r\n//      date: \"2021/07/24\",\r\n//      already_read: 1,\r\n//      icon:1,\r\n//     },\r\n// ];\r\n\r\n\r\nconst NoticeBudge = ({myId}) => {\r\n    // const [invisibleNotice, setInvisibleNotice] = useState(true);\r\n\r\n    // データ取得\r\n    // noticesの中にあるuser_idがmyIdと一致するものの中で、already_readが0のものがある場合\r\n    // const filtered = notices.filter((filtereditem) => (filtereditem.user_id === myId));\r\n    // const unread = filtered.filter((item) => (item.already_read === 0));\r\n\r\n    // budgeがつく条件を書く\r\n\r\n\r\n    return (\r\n        <>\r\n            <Badge variant=\"dot\" color=\"secondary\" invisible>\r\n                  <NotificationsIcon />\r\n            </Badge>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default NoticeBudge\r\n","import React, {useState, useEffect}from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport RecentActorsIcon from '@material-ui/icons/RecentActors';\r\nimport \"../../style.css\";\r\nimport Request from \"../request/Request\";\r\nimport Mylist from \"../mylist/Mylist\";\r\nimport ChatTop from \"../../chat/ChatTop\";\r\nimport Notice from \"../notice/Notice\";\r\nimport Profile from \"../profile/Profile\";\r\nimport ChatBudge from \"./ChatBudge\";\r\nimport NoticeBudge from \"./NoticeBudge\";\r\nimport { db } from \"../../firebase\";\r\n\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`scrollable-prevent-tabpanel-${index}`}\r\n        aria-labelledby={`scrollable-prevent-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          <>\r\n            {children}\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n  \r\n  function a11yProps(index) {\r\n    return {\r\n      id: `scrollable-prevent-tab-${index}`,\r\n      'aria-controls': `scrollable-prevent-tabpanel-${index}`,\r\n    };\r\n  }\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n      width: '100%',\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    appBar: {\r\n        top: 'auto',\r\n        bottom: 0,\r\n        paddingTop: \"10px\",\r\n      },\r\n    label:{\r\n        fontSize: \"8px\",\r\n        marginTop: \"0px\",\r\n    },\r\n    tab:{\r\n        padding: \"6px 9px\"\r\n    },\r\n    icon:{\r\n      marginBottom: \"0px\",\r\n    },\r\n    margin:{\r\n      bottom: 0,\r\n      marginBottom: 80,\r\n    }\r\n  }));\r\n  \r\n  \r\nconst Nav = (props) => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const myId = props.location.state.myId;\r\n\r\n  const [profile, setProfile] = useState([\r\n    {\r\n      id: \"\",\r\n      nickname:\"\",\r\n      picture:\"\",\r\n    },\r\n    ]);\r\n\r\n       // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n       useEffect(() => {\r\n        const firebaseData = db\r\n            .collection(\"profiles\")\r\n            .where(\"user_id\", \"==\", myId)\r\n            .onSnapshot((snapshot) =>\r\n                setProfile(\r\n                  snapshot.docs.map((doc) => ({\r\n                    // firebaseから読み込んだデータをdocに入れて、\r\n                    // 各プロパティに入れて、postを更新\r\n                    id: doc.id,\r\n                    nickname: doc.data().nickname,\r\n                    picture: doc.data().picture,\r\n                  }))\r\n                )\r\n              );\r\n        //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n        return () => {\r\n            firebaseData();\r\n            };\r\n        }, []);   \r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n      <TabPanel value={value} index={0}>\r\n        <Request \r\n          myId={myId}\r\n          mynickname={profile[0].nickname}\r\n          mypic={profile[0].picture} \r\n          history={props.history}\r\n        />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <Mylist myId={myId} \r\n                mynickname={profile[0].nickname}\r\n                mypic={profile[0].picture} \r\n                history={props.history}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <ChatTop myId={myId}\r\n          mynickname={profile[0].nickname}\r\n          mypic={profile[0].picture} \r\n          history={props.history}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        <Notice \r\n          myId={myId} \r\n          mynickname={profile[0].nickname}\r\n          mypic={profile[0].picture} \r\n          history={props.history}/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={4}>\r\n        <Profile myId={myId}\r\n        history={props.history}/>\r\n      </TabPanel>\r\n      <div className={classes.margin}></div>\r\n      <AppBar position=\"fixed\" color=\"inherit\" className={classes.appBar}>\r\n        <Tabs\r\n          variant=\"fullWidth\"\r\n          value={value}\r\n          onChange={handleChange}\r\n          textColor=\"primary\"\r\n        >\r\n          <Tab icon={<PersonPinIcon />} \r\n           label={<p className={classes.label}>リクエスト</p>} \r\n           {...a11yProps(0)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<AssignmentIcon />} \r\n           label={<p className={classes.label}>マイリスト</p>} \r\n           {...a11yProps(1)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<ChatBudge myId={myId}/>} \r\n           label={<p className={classes.label}>チャット</p>} \r\n           {...a11yProps(2)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<NoticeBudge myId={myId}/>} \r\n           label={<p className={classes.label}>お知らせ</p>} \r\n           {...a11yProps(3)} \r\n           className={classes.tab}\r\n          />\r\n          <Tab \r\n           icon={<RecentActorsIcon />} \r\n           label={<p className={classes.label}>自己紹介</p>} \r\n           {...a11yProps(4)} \r\n           className={classes.tab}\r\n           />\r\n        </Tabs>\r\n      </AppBar>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Nav\r\n","import React, { useState } from 'react'\r\nimport { Backdrop, Button, Fade, FormControl, MenuItem, Modal, Select, TextField, Typography } from '@material-ui/core';\r\nimport ModalItem from \"../../common/ModalItem\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n      modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      button: {\r\n        display: \"block\",\r\n        margin: \"0 auto\",\r\n        marginBottom: 10,\r\n        marginTop: 10,\r\n    },\r\n    input:{\r\n      display: \"block\",\r\n      minWidth: 150,\r\n    },\r\n  }));\r\n\r\nconst Done = ({id, volunteer_id, myId, mynickname, mypic, es_date, disabled}) => {\r\n    const classes = useStyles();\r\n\r\n    const [evaluate, setEvaluate] = useState(\"\");\r\n    const [comment, setComment] = useState(\"\");\r\n\r\n    const [open, setOpen] = useState(false);\r\n    //modal処理\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n      };\r\n    \r\n    // 登録処理\r\n    const onSubmit = () => {\r\n        // ここに書く\r\n        // (1)escortsのstatus_2を\"完了\"に更新。今すぐなら、今の日付を入れる\r\n        if(es_date === \"今すぐ\"){\r\n          db.collection(\"escorts\").doc(id).update({\r\n            status_2: \"完了\",\r\n          });\r\n        }if(es_date !== \"今すぐ\"){\r\n          db.collection(\"escorts\").doc(id).update({\r\n            status_2: \"完了\",\r\n          });\r\n        }\r\n        // (2)volのお知らせに「nicknameさんがあなたの完了報告を確認しました」と追加される。\r\n        db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: volunteer_id,\r\n            icon: 3,\r\n            notice:`${mynickname}さんがあなたの完了報告を確認しました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        // (3)evaluatesに評価が入る\r\n        db.collection(\"evaluates\").add({\r\n            escort_id: id,\r\n            volunteer_id: volunteer_id,\r\n            guest_id: myId,\r\n            evaluate: evaluate,\r\n            comment:comment,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        setOpen(false);\r\n    };\r\n    \r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" color=\"secondary\" size=\"large\" disabled={disabled} onClick={handleOpen} className={classes.button}>\r\n                完了確認・評価\r\n            </Button>\r\n\r\n            {/* modal */}\r\n            <Modal\r\n              aria-labelledby=\"transition-modal-title\"\r\n              aria-describedby=\"transition-modal-description\"\r\n              className={classes.modal}\r\n              open={open}\r\n              onClose={handleClose}\r\n              closeAfterTransition\r\n              BackdropComponent={Backdrop}\r\n              BackdropProps={{\r\n              timeout: 500,\r\n              }}\r\n            >\r\n            <Fade in={open}>\r\n                <ModalItem\r\n                    title=\"完了確認・評価\"\r\n                    text={\r\n                        <div>\r\n                            <Typography variant=\"subtitle1\" display=\"block\">\r\n                            ■評価\r\n                            </Typography>\r\n                            <FormControl component=\"fieldset\" className={classes.input}>\r\n                            <Select\r\n                              labelId=\"evaluate\"\r\n                              id=\"evaluate\"\r\n                              value={evaluate}\r\n                              onChange={e => setEvaluate(e.target.value)}\r\n                              displayEmpty\r\n                              required\r\n                            >\r\n                              <MenuItem value=\"\">\r\n                                <em>評価</em>\r\n                              </MenuItem>\r\n                              <MenuItem value=\"1\">1(最低)</MenuItem>\r\n                              <MenuItem value=\"2\">2</MenuItem>\r\n                              <MenuItem value=\"3\">3</MenuItem>\r\n                              <MenuItem value=\"4\">4</MenuItem>\r\n                              <MenuItem value=\"5\">5(最大)</MenuItem>\r\n                            </Select>\r\n                            </FormControl>\r\n                            <Typography variant=\"subtitle1\" display=\"block\">\r\n                            ■コメント\r\n                            </Typography>\r\n                            <FormControl>\r\n                            <TextField\r\n                                value={comment}\r\n                                multiline\r\n                                rows={5}\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                //  外だしせずにここで書く方法\r\n                                onChange={(e) => setComment(e.target.value)}\r\n                            />\r\n                            </FormControl>\r\n\r\n                        </div>\r\n                    }\r\n                    buttonText=\"送信\"\r\n                    handleClose={handleClose}\r\n                    onSubmit={onSubmit}\r\n                    />\r\n                    \r\n            </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Done\r\n","import React, {useState} from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button } from '@material-ui/core';\r\nimport Map from \"../../volunteer/detail/Map\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport Done from \"./Done\";\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n        position: \"relative\",\r\n      },\r\n    button:{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        right: 5,\r\n    },\r\n    image: {\r\n        width: \"6rem\",\r\n        height: \"6rem\",\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    volList:{\r\n        display: \"flex\",\r\n    },\r\n    volInfo:{\r\n        paddingLeft: \"10px\",\r\n    },\r\n    vol:{\r\n        paddingTop: 10,\r\n        paddingBottom: 10,\r\n    },\r\n    button2:{\r\n        marginLeft: 10,\r\n    },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    margin2:{\r\n        marginBottom: 10,\r\n    },\r\n  }));\r\n\r\n\r\n//  開閉式メニューの部分\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n      border: '1px solid #d3d4d5',\r\n    },\r\n  })((props) => (\r\n    <Menu\r\n      elevation={0}\r\n      getContentAnchorEl={null}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'center',\r\n      }}\r\n      transformOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'center',\r\n      }}\r\n      {...props}\r\n    />\r\n  ));\r\n  const StyledMenuItem = withStyles((theme) => ({\r\n    root: {\r\n      '&:focus': {\r\n        backgroundColor: theme.palette.primary.main,\r\n        '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n          color: theme.palette.common.white,\r\n        },\r\n      },\r\n    },\r\n  }))(MenuItem);\r\n\r\nconst GuestDetailItem = ({\r\n    id, picture, nickname, volunteer_id, rikkouho_id, es_date, start_time, \r\n    departure, departure_lat, departure_lon, destination, destination_lat, destination_lon,               \r\n    number, lan_1, lan_2, lan_3, status, status_2, emergency, history, myId, mynickname, mypic}) => {\r\n\r\n    const classes = useStyles();\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    // ボタンmenu\r\n    const handleClick = (e) => {\r\n      setAnchorEl(e.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n      };\r\n    \r\n    //リクエスト編集\r\n    const reviseRequest=()=>{\r\n    // statusを募集中に。status2を空に。volunteer_idとnickname,pic,rikkouho_idを空に。\r\n        db.collection(\"escorts\").doc(id).update({\r\n            status: \"募集中\",\r\n            status_2: \"\",\r\n            volunteer_id: \"\",\r\n            volunteer_pic:\"\",\r\n            volunteer_nickname:\"\",\r\n            rikkouho_id: \"\",\r\n          });\r\n        // noticeにリクエストがやり直されたのを追加\r\n        if(status===\"成立済\"){\r\n        db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: volunteer_id,\r\n            icon: 1,\r\n            notice:`${mynickname}さんがリクエストをやり直しました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        };\r\n    }\r\n\r\n    //リクエストキャンセル\r\n    const canselRequest=()=>{\r\n        // escortsからidの項目にキャンセル情報を入れる。トップに遷移\r\n        db.collection(\"escorts\").doc(id).update({\r\n            status: \"キャンセル\",\r\n            status_2: \"キャンセル\",\r\n            volunteer_id: \"\",\r\n            volunteer_pic: \"\",\r\n            volunteer_nickname: \"\",\r\n          });\r\n         // noticeにリクエストがキャンセルされた\r\n        //  成立済みならボランティアに\r\n        if(status===\"成立済\"){\r\n          db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: volunteer_id,\r\n            icon: 1,\r\n            notice:`${mynickname}さんがリクエストをキャンセルしました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        };\r\n        // 募集中なら、立候補者に\r\n        if(status===\"募集中\" && rikkouho_id.length !== 0){\r\n           // rikkouho_idの中身のid全てに以下の処理をする \r\n          rikkouho_id.map((item) => (\r\n          db.collection(\"notices\").add({\r\n            escort_id: id,\r\n            user_id: item,\r\n            icon: 1,\r\n            notice:`${mynickname}さんがリクエストをキャンセルしました。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          })\r\n          ));\r\n        };\r\n    }\r\n    \r\n    //ゲスト紹介ページへ遷移\r\n    const gotoVol=()=>{\r\n        history.push({\r\n            // 紹介ページに遷移。idを渡す。\r\n            pathname: '/guest/volunteerprofile',\r\n            state: { volunteerId: volunteer_id, }\r\n        });\r\n    }\r\n    //ボランティア選択画面へ遷移\r\n    const gotoSelectVol=()=>{\r\n        history.push({\r\n            // ボランティアセレクトに遷移。立候補idを渡す。\r\n            pathname: '/guest/volunteerselect',\r\n            state: { rikkouho_id: rikkouho_id, \r\n                     escortId: id,\r\n                     mynickname: mynickname,\r\n                     mypic: mypic,\r\n                     myId: myId,\r\n            }\r\n        });\r\n    }\r\n\r\n    // 掲示板へ遷移\r\n    const gotoForum=()=>{\r\n        history.push({\r\n            //forumに遷移。値を渡す。\r\n            pathname: '/forum',\r\n            state: {escortId: id,\r\n                    myId: myId,\r\n                    mynickname: mynickname,\r\n                    mypic: mypic,\r\n                    }\r\n        })\r\n    }\r\n\r\n    //チャットへ遷移\r\n    const gotoChat=()=>{\r\n        history.push({\r\n            //forumに遷移。値を渡す。\r\n            pathname: '/chat',\r\n            state: {escortId: id,\r\n                    myId: myId,\r\n                    mynickname: mynickname,\r\n                    mypic: mypic,\r\n                    }\r\n        })\r\n    }\r\n// 現在日付\r\nlet now = new Date();            //日付取得準備（必須）！！\r\nlet year = now.getFullYear();    //年\r\nlet m = (\"0\"+(now.getMonth() + 1)).slice(-2);    //月（2桁表示）\r\nlet d =  (\"0\"+now.getDate()).slice(-2);  //日（2桁表示）\r\nlet nowDate = year + m + d;   \r\n// es_dateをnewDateと比較できる形に変換\r\nlet esDate=\"\";\r\nif(es_date){\r\nesDate = es_date.replace(\"/\", \"\");\r\nesDate = esDate.replace(\"/\", \"\");\r\n}\r\n// nowDateがesDateより大きい（現在日がエスコート予定日より大きい＝過ぎた）=trueの場合はキャンセルアラートを出す\r\nconst canselJudge = nowDate>esDate;\r\n\r\n    return (\r\n        <div key={id}>\r\n        <div className={classes.margin}></div>\r\n\r\n        { status_2!== \"キャンセル\" && status_2 !== \"完了報告\" && status_2 !== \"完了\" && canselJudge===true && \r\n        <Typography variant=\"caption\" display=\"block\" color=\"primary\">\r\n        ※実施日を過ぎたリクエストです。右下のステータスボタンからリクエストをキャンセルしてください。（実施済みのリクエストの場合は、ボランティアさんが完了報告をしていない場合がありますので、しばらくお待ちください）\r\n        </Typography>\r\n        }  \r\n\r\n        <div className={classes.box}>           \r\n\r\n            { status===\"募集中\" &&\r\n                <>\r\n                  <Button variant=\"contained\" color=\"primary\" className={classes.button} size=\"large\" endIcon={<ArrowDropDownIcon/>} onClick={handleClick}>\r\n                      {status}\r\n                  </Button>\r\n                </>\r\n            }\r\n            { status=== \"成立済\" && status_2!==\"完了\" &&\r\n                <>\r\n                <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"large\" endIcon={<ArrowDropDownIcon/>} onClick={handleClick}>\r\n                    {status}\r\n                </Button>\r\n                </>\r\n            }\r\n            { status_2===\"完了\" &&\r\n              <Button variant=\"outlined\" color=\"primary\" className={classes.button} size=\"large\" >\r\n                  {status_2}\r\n              </Button>\r\n            }\r\n            { status===\"キャンセル\" &&\r\n              <Button variant=\"outlined\" color=\"inherit\" className={classes.button} size=\"large\" >\r\n                キャンセル\r\n              </Button>\r\n            }            \r\n            <StyledMenu\r\n                id=\"customized-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n                >\r\n                  {status=== \"成立済\" &&\r\n                <StyledMenuItem onClick={reviseRequest}>\r\n                <ListItemText primary=\"同じ内容でリクエストをやり直す\" />\r\n                </StyledMenuItem>\r\n                }\r\n                <StyledMenuItem onClick={canselRequest}>\r\n                <ListItemText primary=\"リクエストを削除する\" />\r\n                </StyledMenuItem>\r\n            </StyledMenu>\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ＜基本情報＞\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" display=\"block\">\r\n            ■日時：{es_date} の {start_time}～\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■言語：{lan_1}{ lan_2 && `、${lan_2}`}{ lan_3 && `、${lan_3}`}\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■人数：{number}人\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ＜コース＞\r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■出発地：{departure} \r\n            </Typography>\r\n            <Typography variant=\"body2\" display=\"block\">\r\n            ■目的地：{destination}\r\n            </Typography>\r\n\r\n            {/* mapコンポーネントを読み込み */}\r\n            <Map\r\n                departure_lat={departure_lat}\r\n                departure_lon={departure_lon}\r\n                destination_lat={destination_lat}\r\n                destination_lon={destination_lon}\r\n            />\r\n\r\n            <div className={classes.vol}>\r\n            {/* ボランティア成立前はボランティア選択画面へのボタンを表示 */}\r\n            { status===\"募集中\" && rikkouho_id &&\r\n            <>\r\n                <Button variant=\"contained\" onClick={gotoSelectVol}>ボランティア選択</Button>\r\n                <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={gotoForum} className={classes.button2}>\r\n                    掲示板\r\n                </Button>\r\n                <Typography variant=\"caption\" display=\"block\">\r\n                ※立候補中のボランティアを確認できます。案内をお願いするボランティアを1名選びましょう。\r\n                </Typography>              \r\n            </>\r\n            }\r\n            { status===\"募集中\" &&  !rikkouho_id &&\r\n            <>\r\n                <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={gotoForum} className={classes.button2}>\r\n                    掲示板\r\n                </Button>\r\n                <Typography variant=\"caption\" display=\"block\">\r\n                ※現在立候補中のボランティアはいません。\r\n                </Typography>             \r\n            </>\r\n            }\r\n             {/* ボランティア成立後はボランティア情報 */}\r\n             { status===\"成立済\" && \r\n                <>\r\n                <Typography variant=\"subtitle1\" display=\"block\">\r\n                    ＜ボランティア情報＞\r\n                </Typography>\r\n                <div className={classes.volList}>\r\n                    <div>\r\n                    { picture ? (\r\n                        <>\r\n                        <div className={classes.image}>\r\n                            <img src={picture} alt={`${nickname}のプロフィール画像`} className={classes.img}/>\r\n                        </div>\r\n                        </>\r\n                        ) : (\r\n                        <>\r\n                        <div className={classes.image}>\r\n                            <img src={Img} alt=\"画像はありません\" className={classes.img}/>\r\n                        </div>\r\n                        </>\r\n                        )\r\n                    }\r\n                    </div>\r\n                    <div className={classes.volInfo}>\r\n                    <Typography variant=\"body2\" display=\"block\">\r\n                        ■ニックネーム：{nickname}\r\n                    </Typography>\r\n                    <div className={classes.margin2}></div>\r\n                    <Button variant=\"outlined\" color=\"primary\" size=\"small\" onClick={gotoVol}>\r\n                        紹介ページ\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={gotoChat} className={classes.button2}>\r\n                        チャット\r\n                    </Button>\r\n                    </div>\r\n                </div>                \r\n                </>\r\n            }\r\n            </div>\r\n\r\n            {/* ボタンと登録等の処理はコンポーネントを分ける */}\r\n            { status === \"成立済\" && status_2 !== \"完了報告\" && status_2 !== \"完了\" &&\r\n            <>\r\n            <Done\r\n                id={id} \r\n                volunteer_id={volunteer_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                disabled=\"true\"\r\n                es_date={es_date}\r\n                />\r\n            <Typography variant=\"caption\" display=\"block\">\r\n                ※ボランティアが出発地点に到着すると「お知らせ」に通知が来ます。また、実施後に完了報告すると、通知が来ますので、完了確認・評価をしましょう。\r\n            </Typography>\r\n            </>\r\n            }\r\n            {/* 到着後に、完了確認・評価ボタンが表示される */}\r\n            { status === \"成立済\" && status_2 === \"完了報告\" &&\r\n            <Done\r\n                id={id} \r\n                volunteer_id={volunteer_id}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n                es_date={es_date}\r\n                />\r\n            }\r\n        { status_2 === \"完了\" &&\r\n        <Typography variant=\"caption\" display=\"block\">\r\n            ※完了済のリクエストです。\r\n        </Typography>\r\n        }\r\n        { status === \"キャンセル\" &&\r\n        <Typography variant=\"caption\" display=\"block\" color=\"primary\">\r\n            ※キャンセル済のリクエストです。\r\n        </Typography>\r\n        }        \r\n        </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(GuestDetailItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport GuestDetailItem from './GuestDetailItem'\r\nimport { db } from \"../../firebase\";\r\n\r\n// detailのデータを取得するコンポーネント\r\n\r\nconst GuestDetail = (props) => {\r\n    // idを前ページから受け取る。\r\n    const myId = props.location.state.myId;\r\n    const mynickname = props.location.state.mynickname;\r\n    const mypic = props.location.state.mypic;\r\n    const escortId = props.location.state.escortId;\r\n\r\n    const [request, setRequest] = useState([\r\n      {\r\n        id: \"\",\r\n        guest_id: \"\",\r\n        volunteer_id: \"\",\r\n        rikkouho_id: \"\",\r\n        es_date: \"\",\r\n        start_time: \"\",\r\n        departure: \"\",\r\n        destination:\"\",\r\n        number:\"\",\r\n        lan_1:\"\",\r\n        lan_2:\"\",\r\n        lan_3:\"\",\r\n        status: \"\",\r\n        status_2: \"\",\r\n        emergency: \"\",\r\n        picture: \"\",\r\n        nickname: \"\",\r\n      },\r\n      ]);\r\n\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"escorts\")\r\n          .doc(escortId)\r\n          .onSnapshot((snapshot) =>\r\n              setRequest(\r\n                {\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id:snapshot.id,\r\n                  guest_id: snapshot.data().guest_id,\r\n                  volunteer_id: snapshot.data().volunteer_id,\r\n                  rikkouho_id: snapshot.data().rikkouho_id,\r\n                  es_date: snapshot.data().es_date,\r\n                  start_time: snapshot.data().start_time,\r\n                  departure: snapshot.data().departure,\r\n                  destination:snapshot.data().destination,\r\n                  number:snapshot.data().number,\r\n                  lan_1:snapshot.data().lan_1,\r\n                  lan_2:snapshot.data().lan_2,\r\n                  lan_3:snapshot.data().lan_3,\r\n                  status: snapshot.data().status,\r\n                  status_2: snapshot.data().status_2,\r\n                  emergency: snapshot.data().emergency,\r\n                  picture: snapshot.data().volunteer_pic,\r\n                  nickname: snapshot.data().volunteer_nickname,\r\n                }\r\n              )\r\n            );\r\n            console.log(request);\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []); \r\n\r\n    return (\r\n        <>\r\n        <Title title=\"詳細\" history={props.history}/>        \r\n            {/* // itemコンポーネントに各プロパティを渡す */}\r\n            <GuestDetailItem\r\n                key={request.id}\r\n                id={request.id}\r\n                picture={request.picture}\r\n                nickname= {request.nickname}\r\n                rikkouho_id={request.rikkouho_id}\r\n                guest_id={request.guest_id}\r\n                volunteer_id={request.volunteer_id}\r\n                es_date= {request.es_date}\r\n                start_time= {request.start_time}\r\n                departure= {request.departure}\r\n                departure_lat={request.departure_lat}\r\n                departure_lon={request.departure_lon}\r\n                destination={request.destination}\r\n                destination_lat={request.destination_lat}\r\n                destination_lon={request.destination_lon}\r\n                number={request.number}                \r\n                lan_1={request.lan_1}\r\n                lan_2={request.lan_2}\r\n                lan_3={request.lan_3}\r\n                status= {request.status}\r\n                status_2={request.status_2}\r\n                emergency={request.emergency}\r\n                history={props.history}\r\n                myId={myId}\r\n                mynickname={mynickname}\r\n                mypic={mypic}\r\n            />\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default GuestDetail\r\n","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    box: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n    image: {\r\n        width: \"8rem\",\r\n        height: \"8rem\",\r\n        margin: \"0 auto\",\r\n        marginBottom: \"10px\",\r\n      },\r\n    img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n    update:{\r\n        textAlign: \"right\",\r\n    },\r\n\r\n  }));\r\n\r\nconst VolunteerInfoItem = ({id, nickname, picture, account, description, created_at, updated_at}) => {\r\n    const classes = useStyles();\r\n    return (\r\n        <div key={id}>\r\n        <div className={classes.margin}></div>\r\n        <div className={classes.box}>\r\n            { picture ? (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={picture} alt={`${nickname}のプロフィール画像`} className={classes.img}/>\r\n                </div>\r\n                </>\r\n                ) : (\r\n                <>\r\n                <div className={classes.image}>\r\n                    <img src={Img} alt=\"画像はありません\" className={classes.img}/>\r\n                </div>\r\n                </>\r\n                )\r\n            }\r\n\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■ニックネーム：{nickname}\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■SNSアカウント：\r\n            </Typography>\r\n            <a href={account}>{account}</a>\r\n\r\n        <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■自己紹介：\r\n        </Typography>\r\n        {description}\r\n\r\n        <Typography variant=\"body2\" display=\"block\" className={classes.update}>\r\n        {updated_at &&\r\n         <>更新日：{new Date(updated_at?.toDate()).toLocaleString()}</>}\r\n        {!updated_at &&\r\n         <>作成日：{new Date(created_at?.toDate()).toLocaleString()}</>}\r\n        </Typography>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VolunteerInfoItem\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport VolunteerInfoItem from './VolunteerInfoItem'\r\nimport Review from '../../volunteer/profile/Review'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    reviewarea:{\r\n        backgroundColor: \"#f5f5f5\",\r\n        width: \"100%\",\r\n    },\r\n    box: {\r\n      padding: theme.spacing(1),\r\n      margin: 'auto',\r\n      maxWidth: 500,\r\n    },\r\n    text:{\r\n      margin: \"0 auto\",\r\n      maxWidth: \"500px\",\r\n      marginBottom: 10,\r\n      textAlign: \"center\",\r\n    },\r\n  }));\r\n\r\nconst VolunteerInfo = (props) => {\r\n    const classes = useStyles();\r\n    // volunteer_idを前ページから受け取る。\r\n    const volunteerId = props.location.state.volunteerId;\r\n\r\n        // firebaseに作成した項目を受け取るための変数＝useState\r\n        const [profile, setProfile] = useState([\r\n          {\r\n              id: \"\",\r\n              user_id: \"\",\r\n              nickname:\"\",\r\n              user_flg: \"\",\r\n              picture: \"\",\r\n              description: \"\",\r\n              accout: \"\",\r\n              created_at: null,\r\n              updated_at: null,\r\n          },\r\n          ]);\r\n\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n    useEffect(() => {\r\n      const firebaseData = db\r\n          .collection(\"profiles\")\r\n          .where(\"user_id\", \"==\", volunteerId)\r\n          .onSnapshot((snapshot) =>\r\n              setProfile(\r\n                snapshot.docs.map((doc) => ({\r\n                  // firebaseから読み込んだデータをdocに入れて、\r\n                  // 各プロパティに入れて、postを更新\r\n                  id: doc.id,\r\n                  user_id: doc.data().user_id,\r\n                  nickname: doc.data().nickname,\r\n                  user_flg: doc.data().user_flg,\r\n                  picture: doc.data().picture,\r\n                  description: doc.data().description,\r\n                  accout: doc.data().accout,\r\n                  created_at: doc.data().created_at,\r\n                  updated_at: doc.data().updated_at,\r\n                }))\r\n              )\r\n            );\r\n      //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n      return () => {\r\n          firebaseData();\r\n          };\r\n      }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Title title=\"ボランティアの自己紹介ページ\" history={props.history}/>\r\n            {/* guestinfoの中身をitemに入れて表示処理 */}\r\n            {profile.length !== 0 && \r\n            profile.map((item) => (\r\n            // GuestInfoItemコンポーネントに各プロパティを渡す\r\n            <VolunteerInfoItem\r\n            key={item.id}\r\n            id={item.id}\r\n            nickname={item.nickname}\r\n            picture={item.picture}\r\n            account={item.account}\r\n            description={item.description}\r\n            created_at={item.created_at}\r\n            updated_at={item.updated_at}\r\n            />\r\n            ))}\r\n        {profile.length===0 &&\r\n              <Typography variant=\"caption\" display=\"block\" className={classes.text}>\r\n                ＜現在、立候補はありません＞\r\n              </Typography>}               \r\n          <div className={classes.reviewarea}>\r\n          <div className={classes.box}>\r\n            <Typography variant=\"subtitle1\" display=\"block\">\r\n            ■レビュー\r\n            </Typography>\r\n            <Review\r\n            myId={volunteerId}\r\n            /> \r\n          </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VolunteerInfo\r\n","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Img from \"../../img/noimage.jpg\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Avatar, Button, ListItem, ListItemAvatar, ListItemText } from '@material-ui/core';\r\nimport { withRouter } from 'react-router-dom';\r\nimport \"../../style.css\";\r\nimport { db } from \"../../firebase\";\r\nimport firebase from \"firebase/app\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        marginBottom: 8,\r\n      },\r\n      paper: {\r\n        padding: theme.spacing(1),\r\n        margin: 'auto',\r\n        maxWidth: 500,\r\n      },\r\n      large: {\r\n        width: theme.spacing(8),\r\n        height: theme.spacing(8),\r\n      },\r\n      avatar:{\r\n        paddingRight:\"10px\",\r\n      },\r\n      list:{\r\n        flexDirection: \"column\",\r\n        padding: \"0 0 0 0\",\r\n        alignItems: 'start',\r\n      },\r\n      image: {\r\n        width: \"5rem\",\r\n        height: \"5rem\",\r\n      },\r\n      img: {\r\n        margin: 'auto',\r\n        display: 'block',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: \"cover\",\r\n      },\r\n      flex: {\r\n        display: \"flex\",\r\n      },\r\n      button:{\r\n          marginRight: 10,\r\n      },\r\n  }));\r\n\r\nconst SelectItem = ({id, picture, user_id, nickname, history, escortId, mynickname, rikkouho_id, myId, mypic}) => {\r\n    const classes = useStyles();\r\n\r\n    //ボラ紹介ページへ遷移\r\n    const gotoVol=()=>{\r\n         history.push({\r\n            // 紹介ページに遷移。idを渡す。\r\n            pathname: '/guest/volunteerprofile',\r\n            state: { volunteerId: user_id,\r\n                      myId: myId,\r\n                      mynickname: mynickname,\r\n                      mypic: mypic,\r\n                      escortId: escortId,\r\n                      rikkouho_id: rikkouho_id,}\r\n        });\r\n    }\r\n\r\n    let volpic =\"\";\r\n    if(!picture){\r\n        volpic = \"\";\r\n    }if(picture){\r\n        volpic =picture;\r\n    };  \r\n\r\n    // 決定処理\r\n    const selectVol=()=>{\r\n        // dbからescortsのidに対して、statusを\"成立済\"に、status_2に待機中、volunteer_idにuser_id、nicknameと画像を入れる\r\n        db.collection(\"escorts\").doc(escortId).update({\r\n          status: \"成立済\",\r\n          status_2: \"待機中\",\r\n          volunteer_id: user_id,\r\n          volunteer_pic: volpic,\r\n          volunteer_nickname: nickname,\r\n          rikkouho_id: \"\",\r\n        });\r\n      // noticeに選ばれたのを追加\r\n      db.collection(\"notices\").add({\r\n        escort_id: escortId,\r\n        user_id: user_id,\r\n        icon: 0,\r\n        notice:`${mynickname}さんがあなたをボランティアに選びました！`,\r\n        already_read: 0,\r\n        created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n      });\r\n      // 選ばれなかったのを追加\r\n      //(1)rikkouho_idの中から、選ばれたid(user_id)を削除したものを用意\r\n      var index = rikkouho_id.indexOf(user_id);\r\n      rikkouho_id.splice(index, 1)\r\n      // (2)それの中身のid全てに以下の処理をする \r\n      { rikkouho_id.lenghth !== 0 && rikkouho_id.map((item) => (\r\n        db.collection(\"notices\").add({\r\n            escort_id: escortId,\r\n            user_id: item,\r\n            icon: 1,\r\n            notice:`${mynickname}さんのボランティアに選ばれませんでした。`,\r\n            already_read: 0,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp(),\r\n          })\r\n          ));\r\n      }\r\n    // 「戻る」\r\n    history.goBack()\r\n   }\r\n\r\n\r\n    return (\r\n        <div key={id}>\r\n            <div className={classes.root}>\r\n            {/* 外枠 */}\r\n            <Paper className={classes.paper}>\r\n            <div className={classes.flex}>\r\n                <ListItemAvatar className={classes.avatar}>\r\n                    { picture ? (\r\n                    <>\r\n                        <Avatar variant=\"rounded\" src={picture} alt={`${nickname}のプロフィール画像`}  className={classes.large}/>\r\n                    </>\r\n                    ) : (\r\n                    <>\r\n                        <Avatar variant=\"rounded\" src={Img} alt=\"画像はありません\"  className={classes.large}/>\r\n                    </>\r\n                    )}\r\n                </ListItemAvatar>\r\n                <ListItem className={classes.list}>\r\n                <ListItemText \r\n                primary={`${nickname}さん`}\r\n                /> \r\n                <ListItemText\r\n                    secondary={\r\n                    <>\r\n                    <Button variant=\"outlined\" color=\"primary\" size=\"small\" className={classes.button} onClick={gotoVol}>\r\n                        紹介ページ\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={selectVol}>\r\n                        この人に決定\r\n                    </Button>\r\n                    </>\r\n                    }/>         \r\n                </ListItem>\r\n            </div>\r\n            </Paper>\r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(SelectItem)\r\n","import React, {useState, useEffect} from 'react'\r\nimport Title from '../../common/Title'\r\nimport SelectItem from './SelectItem'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { db } from \"../../firebase\";\r\n\r\n// style\r\nconst useStyles = makeStyles((theme) => ({\r\n    margin:{\r\n        marginBottom: 70,\r\n    },\r\n  }));\r\n\r\nconst VolunteerSelect = (props) => {\r\n    const classes = useStyles();\r\n    // escort_idと立候補idを前ページから受け取る。\r\n    const escortId = props.location.state.escortId;\r\n    const rikkouho_id= props.location.state.rikkouho_id;\r\n    const mynickname= props.location.state.mynickname;\r\n    const myId= props.location.state.myId;\r\n    const mypic= props.location.state.mypic;\r\n\r\n    const [profile, setProfile] = useState([\r\n      {\r\n          id: \"\",\r\n          user_id: \"\",\r\n          nickname:\"\",\r\n          user_flg: \"\",\r\n          picture: \"\",\r\n          description: \"\",\r\n          accout: \"\",\r\n          created_at: null,\r\n          updated_at: null,\r\n      },\r\n      ]);\r\n\r\n      \r\n    // 立候補idに入っているidを取得して、profilesからuser_idと一致するものの、nicknameとpictureを取得する。\r\n    // firebaseからデータ受信（firebaseに変更があった場合のみ、動作）\r\n        useEffect(() => {\r\n          const firebaseData = db\r\n              .collection(\"profiles\")\r\n              .where(\"user_id\", \"in\", rikkouho_id)\r\n              .onSnapshot((snapshot) =>\r\n                  setProfile(\r\n                    snapshot.docs.map((doc) => ({\r\n                      // firebaseから読み込んだデータをdocに入れて、\r\n                      // 各プロパティに入れて、postを更新\r\n                      id: doc.id,\r\n                      user_id: doc.data().user_id,\r\n                      nickname: doc.data().nickname,\r\n                      user_flg: doc.data().user_flg,\r\n                      picture: doc.data().picture,\r\n                      description: doc.data().description,\r\n                      accout: doc.data().accout,\r\n                      created_at: doc.data().created_at,\r\n                      updated_at: doc.data().updated_at,\r\n                    }))\r\n                  )\r\n                );\r\n          //   クリーンアップ関数（前回の処理を削除する処理らしい）\r\n          return () => {\r\n              firebaseData();\r\n              };\r\n          }, []);      \r\n\r\n    return (\r\n        <div>\r\n            <Title title=\"ボランティア選択\" history={props.history}/> \r\n            <div className={classes.margin}></div> \r\n            {profile &&\r\n              profile.map((item) => (\r\n                <SelectItem\r\n                    key={item.id}\r\n                    id={item.id}\r\n                    picture={item.picture}\r\n                    nickname={item.nickname}\r\n                    user_id={item.user_id}\r\n                    history={props.history}\r\n                    escortId={escortId}\r\n                    mynickname={mynickname}\r\n                    rikkouho_id={rikkouho_id}\r\n                    myId={myId}\r\n                    mypic={mypic}\r\n                />\r\n              ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VolunteerSelect\r\n","import React from 'react'\r\nimport { BrowserRouter, Route, Switch} from 'react-router-dom';\r\nimport ScrollToTop from \"./ScrollToTop\";\r\nimport Detail from \"../volunteer/detail/Detail\";\r\nimport GuestNav from \"../guest/nav/GuestNav\";\r\nimport GuestInfo from \"../volunteer/detail/GuestInfo\";\r\nimport ForumItem from \"../chat/ForumItem\";\r\nimport ChatItem from \"../chat/ChatItem.js\";\r\nimport App from \"../App\";\r\nimport Register from \"../Register\";\r\nimport Userflg from \"../Userflg\";\r\nimport Nav from \"../volunteer/nav/Nav\";\r\nimport GuestDetail from \"../guest/detail/GuestDetail\";\r\nimport VolunteerInfo from \"../guest/detail/VolunteerInfo\";\r\nimport VolunteerSelect from \"../guest/detail/VolunteerSelect\";\r\n\r\nconst Router = () => {\r\n    return (\r\n        <>\r\n        <BrowserRouter>\r\n            <ScrollToTop>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={App} />\r\n                <Route exact path=\"/register\" component={Register} />\r\n                <Route exact path=\"/userflg\" component={Userflg} />\r\n                <Route exact path=\"/volunteer\" component={Nav} />\r\n                <Route exact path=\"/volunteer/detail\" component={Detail} />\r\n                <Route exact path=\"/volunteer/guestprofile\" component={GuestInfo} />\r\n                <Route exact path=\"/guest\" component={GuestNav} />\r\n                <Route exact path=\"/guest/detail\" component={GuestDetail} />\r\n                <Route exact path=\"/guest/volunteerprofile\" component={VolunteerInfo} />\r\n                <Route exact path=\"/guest/volunteerselect\" component={VolunteerSelect} />\r\n                <Route exact path=\"/forum\" component={ForumItem} />\r\n                <Route exact path=\"/chat\" component={ChatItem} />\r\n            </Switch>\r\n            </ScrollToTop>\r\n        </BrowserRouter>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Router\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Router from \"./common/Router\";\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\n//全体テーマの設定\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#f6685e',\n      main: '#f44336',\n      dark: '#aa2e25',\n      contrastText: '#fff',\n    },\n    secondary: {\n      light: '#ffcf33',\n      main: '#ffc400',\n      dark: '#b28900',\n      contrastText: '#000',\n    },\n  },\n});\n\nReactDOM.render(\n    <ThemeProvider theme={theme}>\n        <Router />\n    </ThemeProvider>\n, document.getElementById(\"root\"));\n"],"sourceRoot":""}